<div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">404 / Oops! Page not found</h2></div><div class="menu-bar w-full bg-off-white lg:hidden"><h1 class="bg-green-thrive font-extrabold py-4 text-center text-lg text-off-white-5 tracking-normal uppercase"><a href="/account">My Account</a></h1> <select-menu id="SelectMenu" :options="[ {label: 'Account Overview', url: '/account'}, {label: 'My Details', url: '/account/addresses'}, {label: 'Order History', url: '/pages/account-orders'}, {label: 'My Subscriptions', url: '{{ schedule_url }}'}, {label: '- Upcoming Orders', url: '{{ schedule_url }}'}, {label: '- Inactive Orders', url: '{{ subscription_list_url }}'}, {label: '- Billing Details', url: '{{ payment_source_list_url }}'}, {label: 'Refer a friend', url: '/pages/account-refer-a-friend'}, ]" selected="" class="p-4"> </select-menu></div><div class="side-bar w-58 min-h-160 mr-12 flex-none relative bg-white rounded-lg shadow-lg hidden lg:block"><div class="account menu w-full pb-14"><ul class="list-none p-0"><li class="account-overview p-4 border-b-2"><a href="/account" aria-current="page" class="menu-link font-bold"> Account Overview </a></li><li class="my-details p-4 border-b-2"><a href="/account/addresses" class="menu-link font-bold"> My Details </a></li><li class="order-history p-4 border-b-2"><a href="/pages/account-orders" class="menu-link font-bold"> Order History </a></li><li class="subscriptions p-4 border-b-2 active"><a href="{{ schedule_url }}" class="menu-link font-bold"> Subscriptions </a><ul class="list-none"><li id="schedule" class="my-2"><a href="{{ schedule_url }}" class="menu-link"> Upcoming Orders </a></li><li id="subscriptions" class="my-2"><a href="{{ subscription_list_url }}" class="menu-link"> Inactive Orders </a></li><li id="details" class="my-2"><a href="{{ payment_source_list_url }}" class="menu-link"> Billing Details </a></li></ul></li><li class="refer-a-friend p-4 border-b-2"><a href="/pages/account-refer-a-friend" class="menu-link font-bold"> Refer a friend </a></li></ul></div><div class="support w-full p-6 absolute bottom-0"><h2 class="font-extrabold text-black-2 text-lg">Need help?</h2><div class="my-2 text-grey"><p class="leading-snug my-0">Contact our team Monday - Friday 9am - 5pm GMT</p></div><div class="mb-2"> <a class="text-bold text-green-thrive cursor-pointer" onclick="$('#gorgias-web-messenger-container').contents().find('.messenger-icon:not(.messenger-close-icon)').click();">Chat to us</a></div><div> <a href="mailto:hello@vivolife.co.uk" class="text-bold text-green-thrive">hello@vivolife.co.uk</a></div></div></div><div class="grid__item grid__item--collections medium-up--one-quarter"><div class="grid-view-item"> <a href="{{ product_url }}" title="{{ product_title }}" id="product_{{ product.shopify_details.shopify_id }}" class="grid-view-item__link grid-view-item__image-container"><div class="grid-view-item__image-wrapper h-27 mb-4"> {% if product.shopify_details.image %} <img src="{{ product.shopify_details.image | img_url }}" class="grid-view-item__image"> {% else %} <img src="//rechargestatic-bootstrapheroes.netdna-ssl.com/static/images/no-image.png" class="grid-view-item__image"> {% endif %}</div><div class="min-h-19"><div class="grid-view-item__title mb-2 font-bold"> {{ product_title }}</div><div class="grid-view-item__price mb-4"> {% if product.discount_amount %} {% if product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = product_price * (1 - product.discount_amount / 100) %} {{ calculate_discounted | money }} {% else %} {{ product_price - product.discount_amount | money }} {% endif %} {% else %} {{ product_price | money }} {% endif %}</div></div> </a></div></div><div class="grid__item grid__item--collections medium-up--one-quarter"><div class="grid-view-item"> <a href="{{ product_url }}" title="{{ product_title }}" id="product_{{ product.shopify_details.shopify_id }}" class="grid-view-item__link grid-view-item__image-container"><div class="grid-view-item__image-wrapper h-27 mb-4"> {% if product.shopify_details.image %} <img src="{{ product.shopify_details.image | img_url }}" class="grid-view-item__image"> {% else %}<div class="w-25">{% include 'item.svg' %}</div> {% endif %}</div><div class="min-h-19"><div class="grid-view-item__title mb-2 font-bold"> {{ product_title }}</div><div class="grid-view-item__price mb-4"> {% if product.discount_amount %} {% if product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = product_price * (1 - product.discount_amount / 100) %} {{ calculate_discounted | money }} {% else %} {{ product_price - product.discount_amount | money }} {% endif %} {% else %} {{ product_price | money }} {% endif %}</div></div><span class="btn-home primary account">+ Add</span> </a></div></div> {% set limit = 'limit' | url_param | int or 16 %} {% if products_count > limit %} {% set current_page = 'page' | url_param | int or 1 %} {% set total_pages = products_count // limit %} {% set remainder = products_count % limit %}{% if remainder != 0 %} {% set total_pages = total_pages + 1 %} {% endif %}{% if 'q' | url_param %} {% if pagination_params %} {% set pagination_params = pagination_params + '&q=' + 'q' | url_param %} {% else %} {% set pagination_params = '&q=' + 'q' | url_param %} {% endif %} {% endif %}{% if 'preview_theme' | url_param %} {% set preview_theme = '&preview_theme=' + 'preview_theme' | url_param %} {% if pagination_params %} {% set pagination_params = pagination_params + preview_theme %} {% else %} {% set pagination_params = preview_theme %} {% endif %} {% endif %}<div class="grid"><div class="grid__item medium-up--one-full text-center"> {% if current_page != 1 %} <a href="?page={{ current_page - 1 }}&limit={{ limit }}{{ pagination_params }}">Prev</a> {% endif %}{% for page in range(1, total_pages + 1) %} {% if current_page == page %} <span>{{ page }}</span> {% else %} <a href="?page={{ page }}&limit={{ limit }}{{ pagination_params }}">{{ page }}</a> {% endif %} {% endfor %}{% if current_page != total_pages %} <a href="?page={{ current_page + 1 }}&limit={{ limit }}{{ pagination_params }}">Next</a> {% endif %}</div></div> {% endif %}<div class="grid__item grid__item--collections medium-up--one-quarter"><div class="grid-view-item"> <a href="{{ product_url }}" title="{{ product_title }}" id="product_{{ product.shopify_details.shopify_id }}" class="grid-view-item__link grid-view-item__image-container"><div class="grid-view-item__image-wrapper h-27 mb-4"> {% if product.shopify_details.image %} <img src="{{ product.shopify_details.image | img_url }}" class="grid-view-item__image"> {% else %}<div class="w-25">{% include 'item.svg' %}</div> {% endif %}</div><div class="min-h-19"><div class="grid-view-item__title mb-2 font-bold"> {{ product_title }}</div><div class="grid-view-item__price mb-4"> {% if product.discount_amount %} {% if product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = product_price * (1 - product.discount_amount / 100) %} {{ calculate_discounted | money }} {% else %} {{ product_price - product.discount_amount | money }} {% endif %} {% else %} {{ product_price | money }} {% endif %}</div></div> </a></div></div><div class="pt-8 lg:pt-12"><h4 class="font-extrabold mb-2 text-2xl tracking-normal">Toss these in...</h4><div class="flex flex-wrap items-center"><div class="md:w-2/3 text-left text-sm"><p class="my-1">Add any of the following products to your next order.</p><p class="my-1">Choose either a <span class="text-green-thrive">one time</span> or <span class="text-green-thrive">subscription</span> purchase!</p></div></div><div id="no_products" class="mt-8"><p>No products found</p></div><div id="loading_products" class="hidden mt-8 text-center"><div class="flex justify-center items-center"><span class="mr-2">{% include 'renew.svg' %}</span><span>Loading...</span></div></div><div id="products" class="hidden flex flex-wrap items-top text-center text-sm"></div></div> <script id="product-template" type="text/x-custom-template"><div class="w-1/2 md:w-1/4 mt-14"><div class="grid__item grid__item--collections medium-up--one-quarter"><div class="grid-view-item"><a href="${ product_url }"title="${ product_title }"id="product_${ product_id }"class="grid-view-item__link grid-view-item__image-container"><div class="grid-view-item__image-wrapper h-27 mb-4"><img src="${ product_image_url }"class="${ product_image } grid-view-item__image h-27"><div class="${ product_svg } w-25">{%include'item.svg'%}</div></div><div class="min-h-19"><div class="grid-view-item__title mb-2 font-bold">${product_title}</div><div class="grid-view-item__price mb-4">${product_price}</div></div><span class="btn-home primary account">+Add</span></a></div></div></div></script> {% extends "base.html" %}{% block content %} <script>window.addEventListener('load',(event)=>{var el=document.getElementById('details');el.className+=' active';$('input.vs__search').val('My Subscriptions');$('body').click(function(){$('input.vs__search').val('My Subscriptions')});});</script> <div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Shipping Address</h2></div><div class="pt-2 lg:pt-12 px-4 lg:px-1 pb-8"><form action="{{ address.id | address_url }}" method="post" id="ReChargeForm_address"><div class="w-full flex flex-wrap"><div class="w-full flex flex-wrap px-4 lg:px-16 pb-1 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4"> <label for="first_name" class="w-full my-4 capitalize font-bold">First Name</label> <input type="text" id="first_name" class="w-full capitalize" name="first_name" value="{{ address.first_name }}"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="last_name" class="w-full my-4 capitalize font-bold">Last Name</label> <input type="text" id="last_name" class="w-full capitalize" name="last_name" value="{{ address.last_name }}"></div></div><div class="w-full border-t-1 px-4 lg:px-16 pt-8"><div class="w-full md:w-1/2 md:pr-4"> <label for="address1" class="w-full my-4 capitalize font-bold">Address1</label> <input type="text" id="address1" class="w-full capitalize" name="address1" value="{{ address.address1 }}"><label for="address2" class="w-full my-4 capitalize font-bold">Address2</label> <input type="text" id="address2" class="w-full capitalize" name="address2" value="{{ address.address2 }}"><label for="company" class="w-full my-4 capitalize font-bold">Company</label> <input type="text" id="company" class="w-full capitalize" name="company" value="{{ address.company }}"></div></div><div class="w-full flex flex-wrap px-4 lg:px-16 pb-1 items-center"><div class="w-full md:w-1/2 md:pr-4"> <label for="country" class="w-full my-4 capitalize font-bold">Country</label> <select name="country" id="country" class="w-full capitalize" data-value="{{ address.country }}" onchange="ReCharge.Forms.updateProvinces(this);"> {% for country in shipping_countries %}<option value="{{ country.name }}" {% if address.country == country.name %}selected{% endif %}>{{ country.name }}</option> {% endfor %} </select><label for="city" class="w-full my-4 capitalize font-bold">City</label> <input type="text" id="city" class="w-full capitalize" name="city" value="{{ address.city }}"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="province" class="w-full my-4 capitalize font-bold">Region</label> <input type="text" id="province" name="province" value="{{ address.province }}" class="w-full capitalize"> <select id="province_selector" onchange="ReCharge.Forms.updateProvinceInput(this);" style="display: none;"></select><label for="zip" class="w-full my-4 capitalize font-bold">Postcode</label> <input type="text" id="zip" name="zip" value="{{ address.zip }}" class="w-full capitalize"></div></div><div class="w-full flex flex-wrap border-t-1 px-4 lg:px-16 pt-8 pb-1 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4"> <label for="phone" class="w-full my-4 capitalize font-bold">Contact Number</label> <input type="text" id="phone" name="phone" value="{{ address.phone }}" class="w-full capitalize"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="cart_note" class="w-full my-4 capitalize font-bold">Cart Note</label> <input type="text" id="cart_note" name="cart_note" value="{{ address.cart_note }}" class="w-full capitalize"></div></div><div class="w-full flex flex-wrap px-4 lg:px-16 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4 mb-4"> <button type="submit" class="btn-home secondary account confirm mr-4">Save</button> <a href="{{ address_list_url }}" class="btn-home secondary account">Back</a></div><div class="w-full md:w-1/2 md:pl-4"> <span class="text-green-thrive font-bold">Need to change your billing addresses? <a href="{{ payment_source_list_url }}" class="underline">Click here</a></span></div></div></div></form></div> {% endblock %}<div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Add Shipping Address</h2></div><div class="pt-2 lg:pt-12 px-4 lg:px-1 pb-8"><form action="{{ address_list_url }}" method="post" id="ReChargeForm_address"> <input type="hidden" name="redirect_url" value="{{ address_list_url }}"><div class="w-full flex flex-wrap"><div class="w-full flex flex-wrap px-4 lg:px-16 pb-1 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4"> <label for="first_name" class="w-full my-4 capitalize font-bold">First Name</label> <input type="text" id="first_name" class="w-full capitalize" name="first_name"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="last_name" class="w-full my-4 capitalize font-bold">Last Name</label> <input type="text" id="last_name" class="w-full capitalize" name="last_name"></div></div><div class="w-full border-t-1 px-4 lg:px-16 pt-8"><div class="w-full md:w-1/2 md:pr-4"> <label for="address1" class="w-full my-4 capitalize font-bold">Address1</label> <input type="text" id="address1" class="w-full capitalize" name="address1"><label for="address2" class="w-full my-4 capitalize font-bold">Address2</label> <input type="text" id="address2" class="w-full capitalize" name="address2"><label for="company" class="w-full my-4 capitalize font-bold">Company</label> <input type="text" id="company" class="w-full capitalize" name="company"></div></div><div class="w-full flex flex-wrap px-4 lg:px-16 pb-1 items-center"><div class="w-full md:w-1/2 md:pr-4"> <label for="country" class="w-full my-4 capitalize font-bold">Country</label> <select name="country" id="country" class="w-full capitalize" onchange="ReCharge.Forms.updateProvinces(this);"> {% for country in shipping_countries %}<option value="{{ country.name }}">{{ country.name }}</option> {% endfor %} </select><label for="city" class="w-full my-4 capitalize font-bold">City</label> <input type="text" id="city" class="w-full capitalize" name="city"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="province" class="w-full my-4 capitalize font-bold">Region</label> <input type="text" id="province" name="province" class="w-full capitalize"> <select id="province_selector" onchange="ReCharge.Forms.updateProvinceInput(this);" style="display: none;"></select><label for="zip" class="w-full my-4 capitalize font-bold">Postcode</label> <input type="text" id="zip" name="zip" class="w-full capitalize"></div></div><div class="w-full flex flex-wrap border-t-1 px-4 lg:px-16 pt-8 pb-1 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4"> <label for="phone" class="w-full my-4 capitalize font-bold">Contact Number</label> <input type="text" id="phone" name="phone" class="w-full capitalize"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="cart_note" class="w-full my-4 capitalize font-bold">Cart Note</label> <input type="text" id="cart_note" name="cart_note" class="w-full capitalize"></div></div><div class="w-full flex flex-wrap px-4 lg:px-16 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4 mb-4"> <button type="submit" class="btn-home secondary account confirm mr-4">Save</button> <a href="{{ address_list_url }}" class="btn-home secondary account">Back</a></div><div class="w-full md:w-1/2 md:pl-4"> <span class="text-green-thrive font-bold">Need to change your billing addresses? <a href="{{ payment_source_list_url }}" class="underline">Click here</a></span></div></div></div></form></div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Shipping Addresses</h2> <a href="{{ address_new_url }}" class="btn-home primary account mb-3 lg:mb-0 w-full sm:w-auto">+ Add new address</a></div><div class="lg:pt-12 px-4 lg:px-1 pb-8">{% if not addresses %}<div class="text-center lg:text-left mt-8"><p class="leading-normal">No addresses found</p></div> {% else %}<div class="leading-normal text-sm md:text-base mt-8"><p> <span class="text-warning">This will not affect your non-subscription addresses.</span> <span class="text-black-1"><a href="/account/addresses" class="font-bold underline">Click here</a> to change your non-subscription addresses.</span></p></div> {% for address in addresses %}<div class="flex border-creatine-grey-how-to-use border-b-1 py-12 text-green-friday-grey text-sm md:text-base items-center" id="address_{{ address.id }}"><div class="flex-1 pr-4"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">{{ address.address1 }}</h4><p class="capitalize my-1">{{ address.first_name }} {{ address.last_name }}</p> {% if address.company %}<p class="capitalize my-1">{{ address.company }}</p>{% endif %}<p class="capitalize my-1">{{ address.address1 }}</p><p class="capitalize my-1">{{ address.address2 }}</p><p class="capitalize my-1">{{ address.city }}</p><p class="capitalize my-1">{{ address.province }}</p><p class="capitalize my-1">{{ address.country }} {{ address.zip }}</p><p class="capitalize my-1">{{ address.phone }}</p></div><div class="flex-none w-38"> <a href="{{ address.id | address_url }}" class="secondary btn-home account w-full my-4">Edit</a></div></div> {% endfor %} {% endif %}</div> <script>{%include'_scripts.js'%} {%include'_custom.js'%}</script> <div class="recharge lg:px-4 -mt-5 lg:pt-8 lg:pb-16"><div class="account-container"><div class="flex flex-wrap"> {% include '_account.menu_bar.html' %} {% include '_account.side_bar.html' %}<div class="main-content flex-1 bg-off-white lg:bg-white"> {% block content %}{% endblock %}</div></div></div></div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Customer Information</h2></div><div class="pt-2 lg:pt-12 px-4 lg:px-1 pb-8"><form action="{{ customer_url }}" method="post" id="ReChargeForm_customer"><div class="w-full flex flex-wrap"><div class="w-full flex flex-wrap px-4 lg:px-16 pb-1 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4"> <label for="first_name" class="w-full my-4 capitalize font-bold">First Name</label> <input type="text" id="first_name" class="border-b-2 border-grey capitalize mb-8 mt-4 pl-0 py-4 w-full focus:outline-none" name="billing_first_name" value="{{ customer.first_name }}"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="last_name" class="w-full my-4 capitalize font-bold">Last Name</label> <input type="text" id="last_name" class="border-b-2 border-grey capitalize mb-8 mt-4 pl-0 py-4 w-full focus:outline-none" name="billing_last_name" value="{{ customer.last_name }}"></div></div><div class="w-full border-t-1 px-4 lg:px-16 pt-8 pb-1"> <label for="email" class="w-full my-4 capitalize font-bold">Email</label> <input type="text" name="email" id="email" class="border-b-2 border-grey mb-8 mt-4 pl-0 py-4 w-full focus:outline-none" value="{{ customer.email }}"></div><div class="w-full flex flex-wrap border-t-1 pt-8 px-4 lg:px-16 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4 mb-4"> <button type="submit" class="btn-home secondary account confirm mr-4">Save</button> <a href="{{ payment_source_list_url }}" class="btn-home secondary account">Back</a></div></div></div></form></div> <?xml version="1.0" encoding="UTF-8" standalone="no"?> <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"> <svg width="100%" height="100%" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"> <g transform="matrix(1.08759,0,0,1.08759,-8.75949,-13.9137)"> <path d="M159.31,18.602C119.77,21.092 80.23,20.966 40.69,18.602L40.69,181.398C80.23,193.977 119.77,194.095 159.31,181.398L159.31,18.602Z" style="fill:rgb(221,221,221);"/> <clipPath id="_clip1"> <path d="M159.31,18.602C119.77,21.092 80.23,20.966 40.69,18.602L40.69,181.398C80.23,193.977 119.77,194.095 159.31,181.398L159.31,18.602Z"/> </clipPath> <g clip-path="url(#_clip1)"> <g transform="matrix(1.77189,0,0,1.77189,-875.208,104.739)"> <path d="M560.008,0C548.922,0 539.8,9.122 539.8,20.208C539.8,31.294 548.922,40.416 560.008,40.416C571.094,40.416 580.216,31.294 580.216,20.208C580.216,20.205 580.216,20.203 580.216,20.2C580.216,9.119 571.097,0 560.016,0C560.013,0 560.011,0 560.008,0ZM570.2,20.5C570.2,20.528 570.2,20.556 570.2,20.584C570.2,26.529 565.308,31.421 559.363,31.421C557.504,31.421 555.675,30.942 554.054,30.031C556.501,24.825 559.959,20.157 564.227,16.3C558.151,19.946 550.633,26.838 550.512,26.942C549.121,25.083 548.365,22.823 548.359,20.501C548.359,20.497 548.359,20.493 548.359,20.488C548.359,14.505 553.283,9.581 559.266,9.581C561.876,9.581 564.401,10.518 566.379,12.22L574.279,9.859L569.453,16.543C569.94,17.806 570.194,19.147 570.2,20.5Z" style="fill:white;fill-rule:nonzero;"/> </g> </g> </g> </svg> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 29.121 29.121"> <g id="Group_5896" data-name="Group 5896" transform="translate(-1671 -245)"> <g id="Ellipse_720" data-name="Ellipse 720" transform="translate(1671 245)" fill="#fff" stroke="#707070" stroke-width="3"> <circle cx="10.5" cy="10.5" r="10.5" stroke="none"/> <circle cx="10.5" cy="10.5" r="9" fill="none"/> </g> <line id="Line_1521" data-name="Line 1521" x2="8.852" y2="8.852" transform="translate(1689.148 263.148)" fill="none" stroke="#707070" stroke-linecap="round" stroke-width="3"/> </g> </svg> <svg class="hidden md:block w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" width="33.6" height="28.86" viewBox="0 0 33.6 28.86"> <g id="Group_5945" data-name="Group 5945" transform="translate(-595.4 -1190.4)"> <path id="Path_3359" data-name="Path 3359" d="M86.149,72.625a13.325,13.325,0,0,1-26.649,0c0-.142,0-.286.007-.427a9.323,9.323,0,0,1,.132-1.945,13.212,13.212,0,0,1,8.593-10.136l.66-.233-.835-.483a.593.593,0,0,1-.276-.363.582.582,0,0,1,.06-.451.594.594,0,0,1,.811-.218l2.194,1.268a.6.6,0,0,1,.218.814L69.8,62.643a.6.6,0,0,1-.516.3.62.62,0,0,1-.3-.079.593.593,0,0,1-.276-.363.582.582,0,0,1,.06-.451l.622-1.083-.831.3c-.187.067-.372.139-.555.218a.552.552,0,0,1-.1.06,12.126,12.126,0,1,0,7.368-.795.6.6,0,0,1,.24-1.176A13.363,13.363,0,0,1,86.149,72.625Z" transform="translate(536.5 1132.71)" fill="#6e6e6e" stroke="#6e6e6e" stroke-width="1.2"/> <circle id="Ellipse_719" data-name="Ellipse 719" cx="9" cy="9" r="9" transform="translate(611 1197)" fill="#4ab857"/> <text id="ONCE" data-name="ONCE" transform="translate(617 1210)" fill="#fff" font-size="11" font-family="ProximaNova-Extrabld, Proxima Nova"><tspan x="0" y="0">1</tspan></text> </g> </svg><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Edit (One Time) Product</h2></div>{% set product = onetime.product %} {% set address = onetime.address %}<div class="lg:pt-4 lg:px-1 pb-8"><div class="rounded lg:rounded-none shadow-lg lg:shadow-none bg-white lg:bg-transparent mx-4 mb-8 lg:m-0 pt-4 py-2 lg:p-0"><div class="subscription border-creatine-grey-how-to-use border-b-1 md:pt-8 pb-12 text-green-friday-grey text-sm px-4 lg:px-16" id="address_{{ address.id }}"> {#<p> <span class="text-green-friday-grey">{{ address.first_name }} {{ address.last_name }} / {{ address.address1 }}</span> <a href="{{ address.id | address_url }}" class="underline font-bold text-black-2">Edit</a></p> #}<div class="flex flex-wrap items-center"><div class="pr-4 hidden sm:block w-25 md:w-auto"> {% if product and product.images and product.images['small'] %} <img class="w-25" src="{{ product.images['small'] }}"> {% else %}<div class="w-25">{% include 'item.svg' %}</div> {% endif %}</div><div class="flex-1 pr-4 pb-4 md:pb-0"><h4 class="font-bold text-black-full mb-2 text-lg">{{ onetime.product_title | remove(' 12.50% Off Auto renew') }}</h4> {% if onetime.variant_title and onetime.product.shopify_details and onetime.product.shopify_details.variants | length > 1 %}<p class="capitalize my-1">{{ onetime.variant_title | remove(' (12.5% Discount)') }}</p> {% endif %}<p class="capitalize my-1 flex items-center">{% include 'once.svg' %}<span class="text-green-thrive mr-2 font-medium">One-Time</span> {% if onetime.product.discount_amount %} {% set product_price = onetime.price %} <span class="font-medium md:hidden">Saving <span class="text-warning"> {% if onetime.product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = (product_price * (1 + onetime.product.discount_amount / 100)) - product_price %} {{ calculate_discounted | money }} {% else %} {{ product_price - onetime.product.discount_amount | money }} {% endif %} </span> </span> {% endif %}</p><p class="capitalize my-1 hidden md:block mt-4"><span class="font-bold">Qty:</span> <span class="qty">{{ onetime.quantity }}</span></p></div>{% set product_price = 0 %} {% set calculate_discounted = 0 %} {% set total = onetime.price %} {% if onetime.product.discount_amount %} {% set product_price = onetime.price %} {% if onetime.product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = (product_price * (1 + onetime.product.discount_amount / 100)) - product_price %} {% endif %} {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold"><span class="price"> {% if calculate_discounted > 0 %} {% set total = onetime.price - calculate_discounted %} {{ total | money }} {% elif onetime.product.discount_amount and onetime.product.discount_type != 'percentage' %} {% set total = onetime.price - onetime.product.discount_amount %} {{ total | money }} {% else %} {{ total | money }} {% endif %} </span></p></div>{% if onetime.product.discount_amount %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Savings</h4><p class="capitalize my-1 font-semibold text-warning"> {% if onetime.product.discount_type == 'percentage' %} {{ calculate_discounted | money }} {% else %} {{ product_price - onetime.product.discount_amount | money }} {% endif %}</p></div> {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold">Once</p></div><div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Next Order</h4><p class="capitalize my-1 font-semibold"> {% if not onetime.next_charge_scheduled_at %} <span class="text-danger text-sm">Error</span> {% else %} <span class="date">{{ onetime.next_charge_scheduled_at | date('%B %-d') }}</span> {% endif %}</p></div><div class="md:hidden w-full flex"><div class="pr-4 sm:ml-25"><h4 class="font-bold text-black-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold"><span class="price">{{ total | money }}</span></p></div><div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold">Once</p></div><div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Next Order</h4><p class="capitalize my-1 font-semibold"> {% if not onetime.next_charge_scheduled_at %} <span class="text-danger text-sm">Error</span> {% else %} {{ onetime.next_charge_scheduled_at | date('%B %-d') }} {% endif %}</p></div></div></div></div><div class="subscription-details border-creatine-grey-how-to-use border-b-1 py-12 px-4 lg:px-16 text-sm"><div class="md:flex flex-wrap items-center justify-between"><div class="md:w-2/5 md:pr-8"><fieldset><form method="post" action="{{ onetime.id | subscription_url }}" id="ReChargeForm_quantity"> <label for="quantity" class="block w-full md:my-4 capitalize font-bold">Quantity</label> <input type="number" name="quantity" id="quantity" class="w-15 text-center" value="{{ onetime.quantity }}"></form></fieldset></div><div class="md:w-1/2 md:pr-4"> {% if onetime.next_charge_scheduled_at %}<fieldset><form method="post" action="{{ onetime.id | onetime_set_next_charge_date_url }}" id="ReChargeForm_date"> <label for="last_name" class="block w-full md:my-4 capitalize font-bold">Next Order / Charge Date</label> <input type="date" name="date" id="date" class="w-full capitalize" value="{{ onetime.next_charge_scheduled_at | date('%Y-%m-%d') }}"></form></fieldset> {% else %} <label for="last_name" class="block w-full md:mb-3 capitalize font-bold">Next Order / Charge Date</label><div class="text-warning mb-4 md:mb-8 md:mt-4 py-4">Not scheduled</div> {% endif %}</div><div class="md:w-1/10"> {# <span class="text-warning text-sm">Skip not available</span> #}</div></div><div class="md:flex flex-wrap items-top justify-between"><div class="md:w-2/5 md:pr-8"></div><div class="md:w-1/2 md:pr-4"> {% if product and "shopify_details" in product and "variants" in product.shopify_details %}<fieldset><form method="post" action="{{ onetime.id | onetime_url }}" id="ReChargeForm_variant"> <label for="shopify_variant_id" class="w-full my-4 capitalize font-bold">Swap Flavour</label> <select name="shopify_variant_id" id="shopify_variant_id" class="w-full capitalize"> {% for variant in product.shopify_details.variants %}<option value="{{ variant.shopify_id }}" {% if variant.shopify_id == onetime.shopify_variant_id %}selected{% endif %}> {{ variant.title }}</option> {% endfor %} </select></form></fieldset> {% endif %}</div><div class="md:w-1/10"></div></div></div><div class="subscription-delivery-payment border-creatine-grey-how-to-use border-b-1 py-12 px-4 lg:px-16 text-sm"><div class="md:flex flex-wrap items-top justify-between mb-8"><div class="md:flex flex-wrap items-top justify-between md:w-9/10"><div class="md:w-1/2 md:pr-8 font-bold"> Delivery Address<p class="mb-0 mt-2 my-4 text-warning hidden md:block">This address only affects subscription addresses</p></div><div class="md:w-1/2 md:pr-4"><p class="mb-2 md:my-0 md:hidden">{{ address.first_name }} {{ address.last_name }} / {{ address.company }} {{ address.address1 }} {{ address.address2 }} {{ address.city }}</p><p class="mb-2 md:my-0 hidden md:block"> {{ address.first_name }} {{ address.last_name }}<br /> {{ address.company }}<br />{{ address.address1 }}<br />{{ address.address2 }}<br />{{ address.city }} {{ address.zip }}</p><p class="mb-0 mt-2 my-4 text-warning text-xs md:hidden">This address only affects subscription addresses</p></div></div><div class="md:w-1/10"> <a href="{{ address.id | address_url }}" class="underline font-bold text-green-thrive">Edit</a></div></div><div class="md:flex flex-wrap items-center justify-between"><div class="md:flex flex-wrap items-top justify-between md:w-9/10"><div class="md:w-2/5 md:pr-8 font-bold mb-4 md:mb-0"> Payment Method</div> {% set payment_source = payment_sources[0] %} {% if payment_source.payment_type in ['credit', 'debit'] %}<div class="md:w-1/2 md:pr-4"> {% if payment_source.status == 'failed' %} <span class="text-danger">Card was removed or expired.</span> {% else %} {% if not payment_source.card_brand %} <span class="text-warning">Card details unavailable</span> {% else %} {{ payment_source.card_brand | capitalize }} ending in {{ payment_source.card_last4 }} - Expires {{ payment_source.card_exp_month }}/{{ payment_source.card_exp_year }} {% endif %} {% endif %}</div></div><div class="md:w-1/10"> <a href="{{ payment_source_url }}" class="underline font-bold text-green-thrive">Edit</a></div> {% elif payment_source.payment_type == 'paypal' %}<div class="md:w-2/5 md:pr-4"> Paypal account</div></div><div class="md:w-1/10"> <a href="https://www.paypal.com/signin" target="_blank" class="underline font-bold text-green-thrive">Sign In</a></div> {% elif payment_source.payment_type == 'apple_pay' %}<div class="md:w-2/5 md:pr-4"> Linked Apple Pay</div></div><div class="md:w-1/10"> <a href="https://support.apple.com/en-us/HT205583" target="_blank" class="underline font-bold text-green-thrive">Learn More</a></div> {% endif %}</div></div><div class="subscription-save py-12 px-4 lg:px-16"><div class="save-response mb-4"></div><div class="flex flex-wrap items-center justify-between"><div class="md:flex w-full md:w-1/2 md:pr-4 mb-8 md:mb-0 justify-between md:justify-start"> <a href="{{ schedule_url }}" class="btn-home secondary account mr-4 mb-4 md:mb-0 w-full md:w-auto">Back</a> <a href="#" onclick="updateProduct(); return false;" class="btn-home primary account confirm w-full md:w-auto">Save</a></div><div class="w-full md:pl-4 md:w-1/2 text-right"> {% if onetime.status == 'ONETIME' %} <a href="#" onclick="if (window.confirm('Are you sure you want to cancel this product?')) { ReCharge.Onetime.cancel({{ onetime.id }}, { redirect_url: ReCharge.Endpoints.base + 'schedule' }); }; return false;" class="btn-home secondary account w-full md:w-auto">Cancel product</a><br> {% endif %}</div></div></div></div></div> {% extends "base.html" %}{% block content %}<h3>Order details</h3><p> Order #: {{ order.shopify_order_number }}<br> Status: {{ order.status | capitalize }}<br> Process date: {{ order.processed_at | date('%B %-d, %Y') }}<br> Type: {{ order.type | capitalize }}</p><div class="table-wrap"><div class="table-wrapper"><table class="full"><thead><tr><th>Shipping address</th><th>Billing address</th></tr></thead><tbody><tr><td> {% set address = order.shipping_address %}<p> {{ address.first_name }} {{ address.last_name }}<br> {% if address.company %} {{ address.company }}<br> {% endif %} {{ address.address1 }} {{ address.address2 }}<br> {{ address.city }} {{ address.province }} {{ address.zip }}<br> {% if address.phone %} {{ address.phone }}<br> {% endif %} {{ address.country }}<br></p></td><td> {% set address = order.billing_address %}<p> {{ address.first_name }} {{ address.last_name }}<br> {% if address.company %} {{ address.company }}<br> {% endif %} {{ address.address1 }} {{ address.address2 }}<br> {{ address.city }} {{ address.province }} {{ address.zip }}<br> {% if address.phone %} {{ address.phone }}<br> {% endif %} {{ address.country }}<br></p></td></tr></tbody></table></div></div><hr><div class="table-wrap"><div class="table-wrapper"><table class="full"><thead><tr><th>Products</th><th>Quantity</th><th class="text-right">Price</th></tr></thead><tbody> {% for item in order.line_items %}<tr><td> {% if item.images %} <img src="{{ item.images['small'] }}"><br> {% endif %} {{ item.product_title }} {% if item.variant_title %} <br>{{ item.variant_title }} {% endif %} {% if item.properties %} {% for property in item.properties | rejectattr('name', 'equalto', 'shipping_interval_frequency') | rejectattr('name', 'equalto', 'shipping_interval_unit_type') %} <br>{{ property.name }}: {{ property.value }} {% endfor %} {% endif %}</td><td> {{ item.quantity }}</td><td class="text-right"> {{ item.price | money }}</td></tr> {% endfor %}<tr><td colspan="2"> Subtotal</td><td class="text-right"> {{ order.total_line_items_price | money }}</td></tr></tbody><tfoot> {% for discount in order.discount_codes %}<tr><td colspan="2"> Discount ({{ discount.code }})</td><td class="text-right"> -{{ order.total_discounts | money }} {% if discount.type == 'percentage' %} {% set discount_amount = discount.amount | float %} {% set subtotal_price = order.total_line_items_price | float %} {% set calculate_discounted = subtotal_price * (discount_amount / 100) %} -{{ calculate_discounted | money }} {% else %} -{{ discount.amount | money }} {% endif %}</td></tr> {% endfor %} {% for shipping in order.shipping_lines %}<tr><td colspan="2"> {{ shipping.title }} ({{ shipping.code }})</td><td class="text-right"> {{ shipping.price | money }}</td></tr> {% endfor %} {% for tax in order.tax_lines %}<tr><td colspan="2"> {{ tax.title }} ({{ tax.rate }}%)</td><td class="text-right"> {{ tax.price | money }}</td></tr> {% endfor %}<tr><td colspan="2">Total</td><td class="text-right"> {{ order.total_price | money }}</td></tr></tfoot></table></div></div> {% endblock %} {% extends "base.html" %}{% block content %}<h3>Order history</h3><div class="table-wrap"><div class="table-wrapper"><table class="full"><thead><tr><th>Date</th><th>Order #</th><th class="text-right">Amount</th></tr></thead><tbody> {% for order in orders | sort(attribute='shopify_order_number', reverse=true) %}<tr><td> {{ order.processed_at | date('%b %-d, %Y') }}</td><td> <a href="{{ order.id | order_url }}">{{ order.shopify_order_number }}</a></td><td class="text-right"> {{ order.total_price | money }}</td></tr> {% endfor %}</tbody></table></div></div> {% endblock %} {% extends "base.html" %}{% block content %} <script>window.addEventListener('load',(event)=>{var el=document.getElementById('details');el.className+=' active';$('input.vs__search').val('- Billing Details');$('body').click(function(){$('input.vs__search').val('- Billing Details')});});</script> <div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Payment Details</h2></div><div class="pt-2 lg:pt-12 px-4 lg:px-1 pb-8"><div>{{ payment_source_form_url }}</div><a href="{{ payment_source_list_url }}" class="secondary btn-home account mt-4">Back</a></div> {% endblock %}<div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Billing Information</h2> <a href="{{ payment_source_url }}" class="btn-home primary account mb-3 lg:mb-0">Edit card</a></div><div class="pt-8 lg:pt-12 px-4 lg:px-1 pb-8"><form action="{{ payment_source.id | payment_source_address_url }}" method="post" id="ReChargeForm_customer"><div class="w-full flex flex-wrap"><div class="w-full flex flex-wrap px-4 lg:px-16 pb-1 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4"> <label for="billing_first_name" class="w-full my-4 capitalize font-bold">First Name</label> <input type="text" id="billing_first_name" class="w-full capitalize" name="billing_first_name" value="{{ payment_source.billing_address.first_name }}"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="billing_last_name" class="w-full my-4 capitalize font-bold">Last Name</label> <input type="text" id="billing_last_name" class="w-full capitalize" name="billing_last_name" value="{{ payment_source.billing_address.last_name }}"></div></div><div class="w-full border-t-1 px-4 lg:px-16 pt-8"><div class="w-full md:w-1/2 md:pr-4"> <label for="billing_address1" class="w-full my-4 capitalize font-bold">Address1</label> <input type="text" id="billing_address1" class="w-full capitalize" name="billing_address1" value="{{ payment_source.billing_address.address1 }}"><label for="billing_address2" class="w-full my-4 capitalize font-bold">Address2</label> <input type="text" id="billing_address2" class="w-full capitalize" name="billing_address2" value="{{ payment_source.billing_address.address2 }}"><label for="billing_company" class="w-full my-4 capitalize font-bold">Company</label> <input type="text" id="billing_company" class="w-full capitalize" name="billing_company" value="{{ payment_source.billing_address.company }}"></div></div><div class="w-full flex flex-wrap px-4 lg:px-16 pb-1 items-center"><div class="w-full md:w-1/2 md:pr-4"> <label for="billing_country" class="w-full my-4 capitalize font-bold">Country</label> <select name="billing_country" id="country" class="w-full capitalize" data-value="{{ payment_source.billing_address.country }}" onchange="ReCharge.Forms.updateProvinces(this);"> {% for country in shipping_countries %}<option value="{{ country.name }}" {% if payment_source.billing_address.country == country.name %}selected{% endif %}>{{ country.name }}</option> {% endfor %} </select><label for="billing_city" class="w-full my-4 capitalize font-bold">City</label> <input type="text" id="billing_city" class="w-full capitalize" name="billing_city" value="{{ payment_source.billing_address.city }}"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="province" class="w-full my-4 capitalize font-bold">Region</label> <input type="text" id="province" name="billing_province" value="{{ payment_source.billing_address.province }}" class="w-full capitalize"> <select id="province_selector" onchange="ReCharge.Forms.updateProvinceInput(this);" style="display: none;"></select><label for="billing_zip" class="w-full my-4 capitalize font-bold">Postcode</label> <input type="text" id="billing_zip" name="billing_zip" value="{{ payment_source.billing_address.zip }}" class="w-full capitalize"></div></div><div class="w-full border-t-1 px-4 lg:px-16 pt-8 pb-1"><div class="w-full md:w-1/2 md:pr-4"> <label for="billing_phone" class="w-full my-4 capitalize font-bold">Contact Number</label> <input type="text" id="billing_phone" name="billing_phone" value="{{ payment_source.billing_address.phone }}" class="w-full capitalize"></div></div><div class="w-full flex flex-wrap px-4 lg:px-16 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4 mb-4"> <button type="submit" class="btn-home secondary account confirm mr-4">Save</button> <a href="{{ payment_source_list_url }}" class="btn-home secondary account">Back</a></div><div class="w-full md:w-1/2 md:pl-4"> <span class="text-green-thrive font-bold">Need to change your shipping addresses? <a href="{{ address_list_url }}" class="underline">Click here</a></span></div></div></div></form></div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Add Billing Address</h2></div><div class="pt-2 lg:pt-12 px-4 lg:px-1 pb-8"><form action="{{ payment_source_address_new_url }}" method="post" id="ReChargeForm_customer"> <input type="hidden" name="redirect_url" value="{{ payment_source_list_url }}"><div class="w-full flex flex-wrap"><div class="w-full flex flex-wrap px-4 lg:px-16 pb-1 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4"> <label for="billing_first_name" class="w-full my-4 capitalize font-bold">First Name</label> <input type="text" id="billing_first_name" class="w-full capitalize" name="billing_first_name"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="billing_last_name" class="w-full my-4 capitalize font-bold">Last Name</label> <input type="text" id="billing_last_name" class="w-full capitalize" name="billing_last_name"></div></div><div class="w-full border-t-1 px-4 lg:px-16 pt-8"><div class="w-full md:w-1/2 md:pr-4"> <label for="billing_address1" class="w-full my-4 capitalize font-bold">Address1</label> <input type="text" id="billing_address1" class="w-full capitalize" name="billing_address1"><label for="billing_address2" class="w-full my-4 capitalize font-bold">Address2</label> <input type="text" id="billing_address2" class="w-full capitalize" name="billing_address2"><label for="billing_company" class="w-full my-4 capitalize font-bold">Company</label> <input type="text" id="billing_company" class="w-full capitalize" name="billing_company"></div></div><div class="w-full flex flex-wrap px-4 lg:px-16 pb-1 items-center"><div class="w-full md:w-1/2 md:pr-4"> <label for="billing_country" class="w-full my-4 capitalize font-bold">Country</label> <select name="billing_country" id="country" class="w-full mb-8 mt-4 p-3 rounded border-1 border-grey capitalize" onchange="ReCharge.Forms.updateProvinces(this);"> {% for country in shipping_countries %}<option value="{{ country.name }}">{{ country.name }}</option> {% endfor %} </select><label for="billing_city" class="w-full my-4 capitalize font-bold">City</label> <input type="text" id="billing_city" class="w-full capitalize" name="billing_city"></div><div class="w-full md:w-1/2 md:pl-4"> <label for="province" class="w-full my-4 capitalize font-bold">Region</label> <input type="text" id="province" name="billing_province" class="w-full capitalize"> <select id="province_selector" onchange="ReCharge.Forms.updateProvinceInput(this);" style="display: none;"></select><label for="billing_zip" class="w-full my-4 capitalize font-bold">Postcode</label> <input type="text" id="billing_zip" name="billing_zip" class="w-full capitalize"></div></div><div class="w-full border-t-1 px-4 lg:px-16 pt-8 pb-1"><div class="w-full md:w-1/2 md:pr-4"> <label for="billing_phone" class="w-full my-4 capitalize font-bold">Contact Number</label> <input type="text" id="billing_phone" name="billing_phone" class="w-full capitalize"></div></div><div class="w-full flex flex-wrap px-4 lg:px-16 items-center justify-between"><div class="w-full md:w-1/2 md:pr-4 mb-4"> <button type="submit" class="btn-home secondary account confirm mr-4">Save</button> <a href="{{ payment_source_list_url }}" class="btn-home secondary account">Back</a></div><div class="w-full md:w-1/2 md:pl-4"> <span class="text-green-thrive font-bold">Need to change your shipping addresses? <a href="{{ address_list_url }}" class="underline">Click here</a></span></div></div></div></form></div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Billing Details</h2> {% if not payment_sources | selectattr("status", "equalto", "active") %}<div class="flex justify-between lg:justify-end lg:w-auto w-full"> <a href="{{ payment_source_url }}" class="primary btn-home account">+ Add card</a> <a href="{{ payment_source_address_new_url }}" class="primary btn-home account ml-4">+ Add address</a></div> {% endif %}</div><div class="pt-2 lg:pt-12 px-4 lg:px-1 pb-8">{% if not payment_sources %}<div class="leading-normal text-sm md:text-base mt-8"><p>No payment source on file.</p></div> {% elif not payment_sources | selectattr("status", "equalto", "active") %}<div class="leading-normal text-sm md:text-base mt-8"><p>No active payment source.</p></div> {% else %}<div class="leading-normal text-sm md:text-base mt-8"><p> <span class="text-warning">This will not effect your non-subscription details.</span> <span class="text-black-1"><a href="/account/addresses" class="font-bold underline">Click here</a> to change your non-subscription details.</span></p></div>{% for payment_source in payment_sources %}<div class="py-8 md:py-12 text-green-friday-grey text-sm md:text-base items-center"><div class="sm:flex pb-8 border-creatine-grey-how-to-use border-b-1"><div class="sm:w-52"><h4 class="font-bold text-black-full mb-2 text-sm md:text-base">Customer information</h4></div><div><p class="capitalize mt-0 mb-1">{{ customer.first_name }} {{ customer.last_name }}</p><p class="mt-0 mb-1">{{ customer.email }}</p><p class="capitalize mt-0 mb-4"><a href="{{ customer_url }}" class="text-black-2 underline font-bold">Edit</a></p><p class="capitalize mt-0 mb-1 text-sm"><span class="font-medium">Account created:</span> {{ customer.created_at | date('%-d %B %Y') }}</p><p class="capitalize mt-0 mb-1 text-sm"><span class="font-medium">Details updated:</span> {{ customer.updated_at | date('%-d %B %Y') }}</p><p class="capitalize mt-0 mb-1 text-sm"><span class="font-medium">Active subscriptions:</span> {{ customer.number_active_subscriptions }} / {{ customer.number_subscriptions }}</p></div></div><div class="sm:flex py-8 border-creatine-grey-how-to-use border-b-1"> {% if payment_source.payment_type in ['credit', 'debit'] %}<div class="sm:w-52"><h4 class="font-bold text-black-full mb-2 text-sm md:text-base">Payment details</h4></div><div><p class="mt-0 mb-1"> {% if payment_source.status == 'failed' %} Card was removed or expired. {% else %} {% if not payment_source.card_brand %} Card details unavailable {% else %} {{ payment_source.card_brand }} ending in {{ payment_source.card_last4 }}</p><p class="mt-0 mb-1">Expires {{ payment_source.card_exp_month }}/{{ payment_source.card_exp_year }} {% endif %} {% endif %}</p> {% elif payment_source.payment_type == 'paypal' %}<div class="sm:w-52"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">PayPal account</h4></div><div><p class="mt-0 mb-1">If you need to update your payment settings, you should sign in to your PayPal account.</p><p class="mt-0 mb-1">Sign in to<a href="https://www.paypal.com/signin" target="_blank">PayPal</a>.</p> {% elif payment_source.payment_type == 'apple_pay' %}<div class="sm:w-52"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Linked Apple Pay</h4></div><div><p class="mt-0 mb-1">If you need to update your payment settings, navigate to Settings > Wallet &amp; Apple Pay on your mobile device.</p><p class="mt-0 mb-1">Learn more about <a href="https://support.apple.com/en-us/HT205583" target="_blank">Apple Pay</a>.</p> {% else %}<div class="sm:w-52"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Payment processor</h4></div><div><p class="text-warning mt-0 mb-1">Payment source could not be identified. Please update your card information.</p> {% endif %} {% if payment_source.payment_type not in ['credit', 'debit'] %}<div class="sm:w-52"></div><div><p class="mt-0 mb-1">Adding a credit card will reset your payment type from {{ payment_source.payment_type | replace('_', ' ') | capitalize }}.</p> {% endif %}<p class="capitalize mt-0 mb-1"> <a href="{{ payment_source_url }}" class="text-black-2 underline font-bold">Edit</a></p></div></div><div class="sm:flex pt-8"><div class="sm:w-52"><h4 class="font-bold text-black-full mb-2 text-sm md:text-base">Billing information</h4></div><div> {% if not payment_source.billing_address %}<p class="capitalize mt-0 mb-1">No billing address on file.</p> {% else %} {% set address = payment_source.billing_address %}<p class="capitalize mt-0 mb-1">{{ address.first_name }} {{ address.last_name }}</p> {% if address.company %}<p class="capitalize mt-0 mb-1">{{ address.company }}</p> {% endif %}<p class="capitalize mt-0 mb-1">{{ address.address1 }} {{ address.address2 }}</p><p class="capitalize mt-0 mb-1">{{ address.city }} {{ address.province }} {{ address.zip }}</p><p class="capitalize mt-0 mb-1">{{ address.country }}</p><p class="capitalize mt-0 mb-1">{{ address.phone }}</p><p class="capitalize mt-0 mb-1"><a href="{{ payment_source.id | payment_source_address_url }}" class="text-black-2 underline font-bold">Edit</a></p> {% endif %}</div></div></div> {% endfor %} {% endif %}</div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Add Product</h2></div>{% set search_form_action_url = product_search_url %}<div class="pt-2 lg:pt-12 px-4 lg:px-1 pb-8"><div class="flex flex-wrap items-center"><div class="leading-normal text-sm md:text-base md:w-2/3 text-left"><p class="my-1">Add any of the following products to your next order.</p><p class="my-1">Choose either a <span class="text-green-thrive">one time</span> or <span class="text-green-thrive">subscription</span> purchase and get an exclusive discount.</p></div><div class="flex-1 mt-2 md:mt-0"><form action="{{ search_form_action_url }}" method="get" id="rc_product_search" class="relative text-right" _lpchecked="1"> <input type="hidden" value="" name="token"> <button type="submit" id="trigger_search" class="absolute focus:outline-none w-5">{% include 'magnifying_glass.svg' %}</button> <input type="search" id="product_search" name="q" placeholder="What are you looking for?" value="{% if form.q %}{{ form.q }}{% endif %}" class="isp_ignore w-full border-1 border-grey px-4 py-3 pr-8 rounded placeholder-grey text-sm"> <input type="hidden" id="product_search_page" name="page" value="{{ 'page' | url_param | int or 1 }}" class="isp_ignore"> <input type="hidden" id="product_search_limit" name="limit" value="{{ 'limit' | url_param | int or 16 }}" class="isp_ignore"> {% if 'preview_theme' | url_param %} <input type="hidden" id="product_search_preview_theme" name="preview_theme" value="{{ 'preview_theme' | url_param }}" class="isp_ignore"> {% endif %}</form></div></div>{% if not products %} {% if form.q %}<div class="leading-normal text-sm md:text-base mt-8"><p>No products found</p></div> {% else %}<div class="leading-normal text-sm md:text-base mt-8"><p>Enter a search term and press search</p></div> {% endif %} {% else %}<div class="flex flex-wrap items-top text-center text-sm"> {% for product in products %} {% set product_url = product.shopify_details.shopify_id | subscription_new_url %} {% set product_title = product.title if product.title else product.shopify_details.title | replace('Auto renew', '') | escape %} {% set product_price = product.shopify_details.variants[0].price %}<div class="w-1/2 md:w-1/4 mt-14"> {% include '_product_add.html' %}</div> {% endfor %}</div> {% endif %}{% include '_product_search_pagination.html' %} <script>if(window.location.search){ReCharge.Utils.updateURLs(window.location.search);} document.querySelector("[name=token]").value=window.customerToken;</script> </div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Swap Product</h2></div><div class="pt-2 lg:pt-12 px-4 lg:px-1 pb-8"><h4 class="mb-8">Current product:</h4><div class="flex text-sm mb-8 items-center"><div class="w-30"> {% if 'product' in subscription and subscription.product.shopify_details.image %} <img class="w-25" src="{{ subscription.product.shopify_details.image | img_url }}" class="grid-view-item__image"> {% else %}<div class="w-25">{% include 'item.svg' %}</div> {% endif %}</div><div class="flex-1"><h5 class="font-bold text-black-full mb-2 text-sm"> {{ subscription.product_title | remove(' 12.50% Off Auto renew') }}</h5><p class="capitalize my-1"><span class="font-extrabold">Qty:</span> {{ subscription.quantity }} <span class="font-extrabold ml-2">Every:</span> {{ subscription.order_interval_frequency }} {% if subscription.order_interval_frequency > 1 %} {{ subscription.order_interval_unit | title + 's' }} {% else %} {{ subscription.order_interval_unit | title }} {% endif %}</p><p class="capitalize my-1 font-semibold mt-4">{{ subscription.price | money }}</p></div></div><hr><h4 class="my-8">Swap product:</h4>{% set search_form_action_url = subscription.id | subscription_swap_search_url %} {% if 'preview_theme' | url_param %} {% set search_form_action_url = search_form_action_url + '?preview_theme=' + 'preview_theme' | url_param %} {% endif %}<div class="flex flex-wrap items-center"><div class="md:w-2/3 text-left text-sm"><p class="my-1">Swap with any of the following products.</p><p class="my-1">Choose either a <span class="text-green-thrive">one time</span> or <span class="text-green-thrive">subscription</span> purchase and get an exclusive discount.</p></div><div class="flex-1 mt-2 md:mt-0"><form action="{{ search_form_action_url }}" method="get" id="rc_product_search" class="relative text-right" _lpchecked="1"> <input type="hidden" value="" name="token"> <button type="submit" id="trigger_search" class="absolute focus:outline-none w-5">{% include 'magnifying_glass.svg' %}</button> <input type="search" id="product_search" name="q" placeholder="What are you looking for?" value="{% if form.q %}{{ form.q }}{% endif %}" class="isp_ignore w-full border-1 border-grey px-4 py-3 pr-8 rounded placeholder-grey text-sm"> <input type="hidden" id="product_search_page" name="page" value="{{ 'page' | url_param | int or 1 }}" class="isp_ignore"> <input type="hidden" id="product_search_limit" name="limit" value="{{ 'limit' | url_param | int or 16 }}" class="isp_ignore"> {% if 'preview_theme' | url_param %} <input type="hidden" id="product_search_preview_theme" name="preview_theme" value="{{ 'preview_theme' | url_param }}" class="isp_ignore"> {% endif %}</form></div></div>{% if not products %} {% if form.q %}<div class="text-center lg:text-left mt-8"><p>No products found</p></div> {% else %}<div class="text-center lg:text-left mt-8"><p>Enter a search term and press search</p></div> {% endif %} {% else %}<div class="flex flex-wrap items-top text-center text-sm"> {% for product in products %} {% set product_url = subscription.id | subscription_swap_url(shopify_product_id = product.shopify_details.shopify_id | string) %} {% set product_title = product.title if product.title else product.shopify_details.title | replace('Auto renew', '') | escape %} {% set product_price = product.shopify_details.variants[0].price %}<div class="w-1/2 md:w-1/4 mt-14"> {% include '_product_swap.html' %}</div> {% endfor %}</div>{% set pagination_params = '&swap_subscription_id={}'.format(subscription.id) if subscription %} {% include '_product_search_pagination.html' %} {% endif %} <script>if(window.location.search){ReCharge.Utils.updateURLs(window.location.search);} document.querySelector("[name=token]").value=window.customerToken;</script> </div><div style="width: 500px; margin: auto; text-align: center;"><div class="grid grid--uniform grid--view-items"><div id="greeting" class="grid-view-item"> {{ quick_actions.greeting }}</div>{% if quick_actions.images %}<div id="images" class="grid-view-item"> {% for image in quick_actions.images %} <img src="{{ image }}"> {% endfor %}</div> {% endif %}<div id="form" class="grid-view-item"> Where should we send a verification code? <br> <br> {% for info in quick_actions.contact_info %} <label style="display: block;"> <input type="radio" value="{{loop.index0}}" type="radio" name="contact_info_index">&nbsp;{{ info }} </label> {% endfor %}</div><div class="grid-view-item"> <button id="button" class="btn" onclick="sendVerificationCode()">Submit</button> <br> <br><div id="refresh" style="visibility: hidden;"> <a href="#" onclick="history.go(0)">Not receiving the code? Try again.</a></div></div></div></div> <svg class="hidden md:block w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" width="32.86" height="32.44" viewBox="0 0 32.86 32.44"> <g id="Group_5870" data-name="Group 5870" transform="translate(-62.63 -59.4)"> <path id="Path_3361" data-name="Path 3361" d="M64.779,81.814a.681.681,0,0,1-.637-.446,15.011,15.011,0,0,1,9.116-19.285l.753-.266-.952-.55a.678.678,0,1,1,.679-1.175l2.5,1.443a.678.678,0,0,1,.248.927l-1.443,2.5a.678.678,0,1,1-1.175-.679l.711-1.232-.947.342A13.654,13.654,0,0,0,65.416,80.9a.679.679,0,0,1-.4.87A.684.684,0,0,1,64.779,81.814Z" fill="#4ab857" stroke="#707070" stroke-width="1.2"/> <path id="Path_3362" data-name="Path 3362" d="M87.324,158.483a14.972,14.972,0,0,1-9.674-3.551l-.606-.512v1.159a.678.678,0,0,1-1.357,0s0-2.891,0-2.894l.005-.01V152.6a.675.675,0,0,1,.237-.436.668.668,0,0,1,.436-.159c.021,0,.043,0,.064,0l2.821,0a.678.678,0,1,1,0,1.357H77.886l.8.653a13.652,13.652,0,0,0,19.12-1.771.678.678,0,1,1,1.038.873A15.006,15.006,0,0,1,87.324,158.483Z" transform="translate(-9.098 -67.244)" fill="#4ab857" stroke="#707070" stroke-width="1.2"/> <path id="Path_3363" data-name="Path 3363" d="M137.368,85.885a.681.681,0,0,1-.588-.34l-1.442-2.5a.678.678,0,0,1,.587-1.017.681.681,0,0,1,.588.339l.661,1.143.174-1a13.648,13.648,0,0,0-11.075-15.79.679.679,0,0,1,.116-1.347.718.718,0,0,1,.119.01A15.005,15.005,0,0,1,138.681,82.77c-.007.04-.043.217-.043.217l-.15.789,1.04-.6a.678.678,0,1,1,.678,1.175l-2.5,1.443A.683.683,0,0,1,137.368,85.885Z" transform="translate(-45.657 -3.929)" fill="#4ab857" stroke="#707070" stroke-width="1.2"/> </g> </svg><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions</h2><div class="flex justify-between lg:justify-end lg:w-auto w-full"> <a href="{{ product_search_url }}" class="primary btn-home account w-full sm:w-auto" onclick="utmCookie.createCookie('ReCharge_Sub_Type','subscription');">+ Add product</a> {# If pre-choosing is required: <a href="{{ product_search_url }}" class="primary btn-home account ml-4" onclick="utmCookie.createCookie('ReCharge_Sub_Type','onetime');">+ One time purchase</a> #}</div></div><div class="lg:pt-12 px-4 lg:px-1 pb-8"> {% if not schedule %}<div class="no-deliveries leading-normal mt-8 lg:mt-0"><p>No deliveries have been scheduled for your account.</p><p>Any scheduled in the far future will appear here nearer the time and you will also be emailed 1 week before it is due to be charged.</p></div> {% else %}{% set next_delivery = schedule | first %}<div class="text-center lg:text-left pt-8 pb-4"><h4 class="text-xl">Your next order</h4></div>{% for grouper, list in next_delivery.orders | groupby('subscription.address_id') %} {% for address in addresses | selectattr('id', 'equalto', grouper) %}<div class="lg:flex justify-between py-2 lg:py-0 px-4 bg-off-white-2 lg:bg-grey-lightest text-sm md:text-base rounded-lg lg:rounded-none text-center lg:text-left"><p class="my-2 lg:my-4"> <span class="text-black-2 font-semibold"> {{ next_delivery.date | date("%B %d, %Y") }} </span></p><p class="my-2 lg:my-4"> <span class="text-black-2 font-semibold"> Deliver to {{ address.address1 }} {% if address.address2 %}{{ address.address2 }}{% endif %} </span></p> {% if address.discount_id %}<p class="my-2 lg:my-4"> Discount code applied <a href="#" onclick="ReCharge.Discount.remove({{ address.id }}, {{ address.discount_id }});return false;" class="underline font-bold text-black-2">Delete</a></p> {% else %}<p class="my-2 lg:my-4"> <a href="#" onclick="ReCharge.Helpers.toggle('ReChargeForm_applyDiscount_{{ address.id }}');return false;" class="underline font-bold text-black-2">Add Discount Code</a></p> {% endif %}</div> {% if not address.discount_id %}<form method="post" action="{{ address.id | discount_apply_url }}" id="ReChargeForm_applyDiscount_{{ address.id }}" class="mb-4 text-right" style="display: none;"> <input type="hidden" name="redirect_url" value="{{ schedule_url }}" class="border-b-2 border-grey capitalize mb-4 lg:mb-2 p-4 w-full lg:w-auto focus:outline-none ml-auto mr-0"><fieldset> <input type="text" name="discount_code" id="discount_code" class="border-b-2 border-grey p-3" placeholder="Enter discount code"> <button type="submit" class="btn-home secondary account confirm w-25 md:w-38 lg:w-25 xl:w-38 ml-4">Apply</button></fieldset></form> {% endif %} {% endfor %} {% endfor %}{% for order in next_delivery.orders %} {% set subscription = order.subscription %} {% set charge = order.charge %}<div class="next order flex my-4 lg:my-0 py-4 lg:py-8 md:py-12 text-green-friday-grey text-sm items-center px-4 lg:px-0 bg-white rounded-lg lg:rounded-none shadow-lg lg:shadow-none"><div class="flex-1 flex flex-wrap"><div class="pr-4 hidden sm:block w-25 md:w-auto"> {% if subscription.product and subscription.product.images and subscription.product.images.small %} <img src="{{ subscription.product.images['small'] }}"> {% else %} <img src="//rechargestatic-bootstrapheroes.netdna-ssl.com/static/images/no-image.png" width="100"> {% endif %}</div><div class="flex-1 pr-4 pb-4 md:pb-0"><h4 class="font-bold text-black-full mb-2 text-sm md:text-base">{{ subscription.product_title | remove(' 12.50% Off Auto renew') }}</h4> {% if subscription.variant_title and subscription.product.shopify_details and subscription.product.shopify_details.variants | length > 1 %}<p class="capitalize my-1">{{ subscription.variant_title | remove(' (12.5% Discount)') }}</p> {% endif %}<p class="capitalize my-1 flex items-center">{% if subscription.status == 'ONETIME' %}{% include 'once.svg' %}{% else %}{% include 'renew.svg' %}{% endif %}<span class="text-green-thrive mr-2 font-medium">{% if subscription.status == 'ONETIME' %}One-Time{% else %}Subscribe 12.5% Off{% endif %}</span></p><p class="capitalize my-1 hidden md:block mt-4"><span class="font-bold">Qty:</span> {{ subscription.quantity }}</p></div>{% set product_price = 0 %} {% set calculate_discounted = 0 %} {% set total = subscription.price %} {% if subscription.product.discount_amount %} {% set product_price = subscription.price %} {% if subscription.product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = (product_price * (1 + subscription.product.discount_amount / 100)) - product_price %} {% endif %} {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold"> {% if calculate_discounted > 0 %} {% set total = subscription.price - calculate_discounted %} {{ total | money }} {% elif subscription.product.discount_amount and subscription.product.discount_type != 'percentage' %} {% set total = subscription.price - subscription.product.discount_amount %} {{ total | money }} {% else %} {{ total | money }} {% endif %}</p></div>{% if subscription.product.discount_amount %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Savings</h4><p class="capitalize my-1 font-semibold text-warning"> {% if subscription.product.discount_type == 'percentage' %} {{ calculate_discounted | money }} {% else %} {{ subscription.product.discount_amount | money }} {% endif %}</p></div> {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold"> {% if subscription.status == 'ONETIME' %} One-time {% elif not order.is_skippable %} Pre-paid {% else %} {{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit }}{% if subscription.order_interval_frequency > 1 %}s{% endif %} {# {% if order.is_skipped %} <br /><span class="text-2xs md:text-xs">(skipped)</span> {% endif %} #} {% endif %}</p></div><div class="md:hidden w-full flex"><div class="pr-4 sm:ml-25"><h4 class="font-bold text-black-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold">{{ total | money }}</p></div>{% if subscription.product.discount_amount %}<div class="pr-4 sm:ml-25"><h4 class="font-bold text-black-2 text-sm md:text-base">Saving</h4><p class="capitalize my-1 font-semibold text-warning"> {% if subscription.product.discount_type == 'percentage' %} {{ calculate_discounted | money }} {% else %} {{ subscription.product.discount_amount | money }} {% endif %}</p></div> {% endif %}<div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold"> {% if subscription.status == 'ONETIME' %} One-time {% elif not order.is_skippable %} Pre-paid {% else %} {{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit }}{% if subscription.order_interval_frequency > 1 %}s{% endif %} {# {% if order.is_skipped %} <br /><span class="text-2xs md:text-xs">(skipped)</span> {% endif %} #} {% endif %}</p></div></div></div><div class="flex-none w-25 md:w-38 text-center"> {% if subscription.status == 'ONETIME' %} <a href="{{ subscription.id | onetime_url }}" class="primary btn-home account w-full mb-4">Edit</a> {% else %} <a href="{{ subscription.id | subscription_url }}" class="primary btn-home account w-full mb-4">Edit</a> {# {% if order.is_skipped %} <a href="#" onclick="ReCharge.Subscription.unskip({{ subscription.id }}, {{ charge.id }}); return false;" class="w-full mb-4 text-green-thrive">Unskip</a> | {% elif order.is_skippable %} {% if charge %} <a href="#" onclick="ReCharge.Subscription.skip({{ subscription.id }}, {{ charge.id }}, '{{ next_delivery.date }}'); return false;" class="w-full mb-4 text-green-thrive">Skip</a> | {% else %} <a href="#" onclick="ReCharge.Subscription.skip({{ subscription.id }}, null, '{{ next_delivery.date }}'); return false;" class="w-full mb-4 text-green-thrive">Skip</a> | {% endif %} {% endif %} #} {% endif %} <a href="{{ subscription.id | subscription_swap_search_url }}" class="w-full mb-4 text-green-thrive">Swap</a> {% if subscription.status != 'ONETIME' %} | <a href="{{ subscription.id | subscription_cancel_url }}" class="w-full mb-4 text-green-thrive">Cancel</a> {% endif %}</div></div> {% endfor %}<div class="text-center lg:text-left pt-8 pb-4"><h4 class="text-xl">Scheduled orders</h4></div>{% if not schedule[1:] %}<div class="no-deliveries leading-normal mt-8 lg:mt-0"><p>No further deliveries have been scheduled, just yet. Come back nearer the time.</p></div> {% else %} {# Skip the first delivery display as it's shown above, and only show the one. #} {% for delivery in schedule[1:] %}<div class="scheduled-per-address" {% if loop.index0 > 0 %}style="display: none;"{% endif %}> {% for grouper, list in delivery.orders | groupby('subscription.address_id') %} {% for address in addresses | selectattr('id', 'equalto', grouper) %}<div class="lg:flex justify-between py-2 lg:py-0 px-4 bg-off-white-2 lg:bg-grey-lightest text-sm md:text-base rounded-lg lg:rounded-none text-center lg:text-left"><p class="my-2 lg:my-4"> <span class="text-black-2 font-semibold"> {{ delivery.date | date("%B %d, %Y") }} </span></p><p class="my-2 lg:my-4"> <span class="text-black-2 font-semibold"> Deliver to {{ address.address1 }} {% if address.address2 %}{{ address.address2 }}{% endif %} </span></p> {# {% if address.discount_id %}<p class="my-2 lg:my-4"> Discount code applied <a href="#" onclick="ReCharge.Discount.remove({{ address.id }}, {{ address.discount_id }});return false;" class="underline font-bold text-black-2">Delete</a></p> {% else %}<p class="my-2 lg:my-4"> <a href="#" onclick="ReCharge.Helpers.toggle('ReChargeForm_applyDiscount_{{ address.id }}');return false;" class="underline font-bold text-black-2">Add Discount Code</a></p> {% endif %} #}</div> {# {% if not address.discount_id %}<form method="post" action="{{ address.id | discount_apply_url }}" id="ReChargeForm_applyDiscount_{{ address.id }}" class="mb-4 text-right" style="display: none;"> <input type="hidden" name="redirect_url" value="{{ schedule_url }}" class="border-b-2 border-grey capitalize mb-4 lg:mb-2 p-4 w-full lg:w-auto focus:outline-none ml-auto mr-0"><fieldset> <input type="text" name="discount_code" id="discount_code" class="border-b-2 border-grey p-3" placeholder="Enter discount code"> <button type="submit" class="btn-home secondary account confirm w-25 md:w-38 lg:w-25 xl:w-38 ml-4">Apply</button></fieldset></form> {% endif %} #} {% endfor %}{% for order in list %} {% set subscription = order.subscription %} {% set charge = order.charge %}<div class="scheduled order flex my-4 lg:my-0 py-4 lg:py-8 md:py-12 text-green-friday-grey text-sm items-center px-4 lg:px-0 bg-white rounded-lg lg:rounded-none shadow-lg lg:shadow-none"><div class="flex-1 flex flex-wrap"><div class="pr-4 hidden sm:block w-25 md:w-auto"> {% if subscription.product and subscription.product.images and subscription.product.images.small %} <img src="{{ subscription.product.images['small'] }}"> {% else %} <img src="//rechargestatic-bootstrapheroes.netdna-ssl.com/static/images/no-image.png" width="100"> {% endif %}</div><div class="flex-1 pr-4 pb-4 md:pb-0"><h4 class="font-bold text-black-full mb-2 text-sm md:text-base">{{ subscription.product_title | remove(' 12.50% Off Auto renew') }}</h4> {% if subscription.variant_title and subscription.product.shopify_details and subscription.product.shopify_details.variants | length > 1 %}<p class="capitalize my-1">{{ subscription.variant_title | remove(' (12.5% Discount)') }}</p> {% endif %}<p class="capitalize my-1 flex items-center">{% if subscription.status == 'ONETIME' %}{% include 'once.svg' %}{% else %}{% include 'renew.svg' %}{% endif %}<span class="text-green-thrive mr-2 font-medium">{% if subscription.status == 'ONETIME' %}One-Time{% else %}Subscribe 12.5% Off{% endif %}</span></p><p class="capitalize my-1 hidden md:block mt-4"><span class="font-bold">Qty:</span> {{ subscription.quantity }}</p></div>{% set product_price = 0 %} {% set calculate_discounted = 0 %} {% set total = subscription.price %} {% if subscription.product.discount_amount %} {% set product_price = subscription.price %} {% if subscription.product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = (product_price * (1 + subscription.product.discount_amount / 100)) - product_price %} {% endif %} {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold"> {% if calculate_discounted > 0 %} {% set total = subscription.price - calculate_discounted %} {{ total | money }} {% elif subscription.product.discount_amount and subscription.product.discount_type != 'percentage' %} {% set total = subscription.price - subscription.product.discount_amount %} {{ total | money }} {% else %} {{ total | money }} {% endif %}</p></div>{% if subscription.product.discount_amount %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Savings</h4><p class="capitalize my-1 font-semibold text-warning"> {% if subscription.product.discount_type == 'percentage' %} {{ calculate_discounted | money }} {% else %} {{ subscription.product.discount_amount | money }} {% endif %}</p></div> {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold"> {% if subscription.status == 'ONETIME' %} One-time {% elif not order.is_skippable %} Pre-paid {% else %} {{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit }}{% if subscription.order_interval_frequency > 1 %}s{% endif %} {# {% if order.is_skipped %} <br /><span class="text-2xs md:text-xs">(skipped)</span> {% endif %} #} {% endif %}</p></div><div class="md:hidden w-full flex"><div class="pr-4 sm:ml-25"><h4 class="font-bold text-black-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold">{{ total | money }}</p></div>{% if subscription.product.discount_amount %}<div class="pr-4 sm:ml-25"><h4 class="font-bold text-black-2 text-sm md:text-base">Saving</h4><p class="capitalize my-1 font-semibold text-warning"> {% if subscription.product.discount_type == 'percentage' %} {{ calculate_discounted | money }} {% else %} {{ subscription.product.discount_amount | money }} {% endif %}</p></div> {% endif %}<div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold"> {% if subscription.status == 'ONETIME' %} One-time {% elif not order.is_skippable %} Pre-paid {% else %} {{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit }}{% if subscription.order_interval_frequency > 1 %}s{% endif %} {# {% if order.is_skipped %} <br /><span class="text-2xs md:text-xs">(skipped)</span> {% endif %} #} {% endif %}</p></div></div></div><div class="flex-none w-25 md:w-38 text-center"> {% if subscription.status == 'ONETIME' %} <a href="{{ subscription.id | onetime_url }}" class="primary btn-home account w-full mb-4 text-green-friday-grey">Edit</a> {% else %} <a href="{{ subscription.id | subscription_url }}" class="primary btn-home account w-full mb-4 text-green-friday-grey">Edit</a> {# {% if order.is_skipped %} <a href="#" onclick="ReCharge.Subscription.unskip({{ subscription.id }}, {{ charge.id }}); return false;" class="w-full mb-4 text-green-thrive">Unskip</a> | {% elif order.is_skippable %} {% if charge %} <a href="#" onclick="ReCharge.Subscription.skip({{ subscription.id }}, {{ charge.id }}, '{{ next_delivery.date }}'); return false;" class="w-full mb-4 text-green-thrive">Skip</a> | {% else %} <a href="#" onclick="ReCharge.Subscription.skip({{ subscription.id }}, null, '{{ next_delivery.date }}'); return false;" class="w-full mb-4 text-green-thrive">Skip</a> | {% endif %} {% endif %} #} {% endif %} <a href="{{ subscription.id | subscription_swap_search_url }}" class="w-full mb-4 text-green-thrive">Swap</a> {% if subscription.status != 'ONETIME' %} | <a href="{{ subscription.id | subscription_cancel_url }}" class="w-full mb-4 text-green-thrive">Cancel</a> {% endif %}</div></div> {% endfor %} {% endfor %}</div>{% if loop.index0 == 1 %}<div class="load-more text-center leading-normal mt-8 lg:mt-0"> <a href="#" onclick="$('.scheduled-per-address').slideDown(); $('.load-more').fadeOut(); return false;" class="primary btn-home account">Show More</a></div> {% endif %} {% endfor %}{% endif %} {% endif %}{% include '_toss_these_in.html' %}</div> {% endblock %}<div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Edit Product</h2> {# if subscription.status == 'ACTIVE' %} {% if subscription.is_swappable %} <a href="{{ subscription.id | subscription_swap_search_url }}" class="btn-home secondary account mb-3 lg:mb-0">Swap product</a> {% endif %} {% endif #}</div>{% set product = subscription.product %} {% set address = subscription.address %}<div class="lg:pt-4 lg:px-1 pb-8"><div class="rounded lg:rounded-none shadow-lg lg:shadow-none bg-white lg:bg-transparent mx-4 mb-8 lg:m-0 pt-4 py-2 lg:p-0"><div class="subscription border-creatine-grey-how-to-use border-b-1 md:pt-8 pb-12 text-green-friday-grey text-sm px-4 lg:px-16" id="address_{{ address.id }}"> {#<p> <span class="text-green-friday-grey">{{ address.first_name }} {{ address.last_name }} / {{ address.address1 }}</span> <a href="{{ address.id | address_url }}" class="underline font-bold text-black-2">Edit</a></p> #}<div class="flex flex-wrap items-center"><div class="pr-4 hidden sm:block w-25 md:w-auto"> {% if product and product.images and product.images['small'] %} <img class="w-25" src="{{ product.images['small'] }}"> {% else %}<div class="w-25">{% include 'item.svg' %}</div> {% endif %}</div><div class="flex-1 pr-4 pb-4 md:pb-0"><h4 class="font-bold text-black-full mb-2 text-lg">{{ subscription.product_title | remove(' 12.50% Off Auto renew') }}</h4> {% if subscription.variant_title and subscription.product.shopify_details and subscription.product.shopify_details.variants | length > 1 %}<p class="capitalize my-1">{{ subscription.variant_title | remove(' (12.5% Discount)') }}</p> {% endif %}<p class="capitalize my-1 flex items-center">{% include 'renew.svg' %}<span class="text-green-thrive mr-2 font-medium">Subscribe 12.5% off</span> {% if subscription.product.discount_amount %} {% set product_price = subscription.price %} <span class="font-medium md:hidden">Saving <span class="text-warning"> {% if subscription.product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = (product_price * (1 + subscription.product.discount_amount / 100)) - product_price %} {{ calculate_discounted | money }} {% else %} {{ product_price - subscription.product.discount_amount | money }} {% endif %} </span> </span> {% endif %}</p><p class="capitalize my-1 hidden md:block mt-4"><span class="font-extrabold">Qty:</span> <span class="qty">{{ subscription.quantity }}</span></p></div>{% set product_price = 0 %} {% set calculate_discounted = 0 %} {% set total = subscription.price %} {% if subscription.product.discount_amount %} {% set product_price = subscription.price %} {% if subscription.product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = (product_price * (1 + subscription.product.discount_amount / 100)) - product_price %} {% endif %} {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold"><span class="price"> {% if calculate_discounted > 0 %} {% set total = subscription.price - calculate_discounted %} {{ total | money }} {% elif subscription.product.discount_amount and subscription.product.discount_type != 'percentage' %} {% set total = subscription.price - subscription.product.discount_amount %} {{ total | money }} {% else %} {{ total | money }} {% endif %} </span></p></div>{% if subscription.product.discount_amount %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Savings</h4><p class="capitalize my-1 font-semibold text-warning"> {% if subscription.product.discount_type == 'percentage' %} {{ calculate_discounted | money }} {% else %} {{ product_price - subscription.product.discount_amount | money }} {% endif %}</p></div> {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold"><span class="freq">{{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit | append('s') | capitalize }}</span></p></div><div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Next Order</h4><p class="capitalize my-1 font-semibold"> {% if not subscription.next_charge_scheduled_at %} <span class="text-danger text-sm">Error</span> {% else %} <span class="date">{{ subscription.next_charge_scheduled_at | date('%B %-d') }}<span> {% endif %}</p></div><div class="md:hidden w-full flex"><div class="pr-4 sm:ml-25"><h4 class="font-bold text-black-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold"><span class="price">{{ total | money }}</span></p></div><div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold"><span class="freq">{{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit | append('s') | capitalize }}</span></p></div><div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Next Order</h4><p class="capitalize my-1 font-semibold"> {% if not subscription.next_charge_scheduled_at %} <span class="text-danger text-sm">Error</span> {% else %} <span class="date">{{ subscription.next_charge_scheduled_at | date('%B %-d') }}</span> {% endif %}</p></div></div></div></div><div class="subscription-details border-creatine-grey-how-to-use border-b-1 py-12 px-4 lg:px-16 text-sm"><div class="md:flex flex-wrap items-top justify-between"><div class="md:flex flex-wrap items-top justify-between md:w-9/10"><div class="md:w-1/2 md:pr-8"> {% if product and "shopify_details" in product and "variants" in product.shopify_details %}<fieldset><form method="post" action="{{ subscription.id | subscription_url }}" id="ReChargeForm_variant"> <label for="shopify_variant_id" class="w-full my-4 capitalize font-bold">Swap Flavour</label> <select name="shopify_variant_id" id="shopify_variant_id" class="w-full capitalize"> {% for variant in product.shopify_details.variants %}<option value="{{ variant.shopify_id }}" {% if variant.shopify_id == subscription.shopify_variant_id %}selected{% endif %}> {{ variant.title }}</option> {% endfor %} </select></form></fieldset> {% endif %}</div><div class="md:w-1/2 md:pr-4"><fieldset><form method="post" action="{{ subscription.id | subscription_url }}" id="ReChargeForm_quantity"> <label for="quantity" class="w-full my-4 capitalize font-bold">Quantity</label> <input type="number" name="quantity" id="quantity" class="w-15 text-center" value="{{ subscription.quantity }}"></form></fieldset></div></div><div class="md:w-1/10"></div></div><div class="md:flex flex-wrap items-center justify-between"><div class="md:flex flex-wrap items-top justify-between md:w-9/10"><div class="md:w-1/2 md:pr-8"><fieldset><form method="post" action="{{ subscription.id | subscription_url }}" id="ReChargeForm_schedule"> <label for="charge_interval_frequency" class="w-full my-4 capitalize font-bold">Delivery Frequency</label> {% if product.subscription_defaults %} <select name="charge_interval_frequency" id="charge_interval_frequency" class="w-full capitalize" onchange="document.querySelector('[name=order_interval_frequency]').value=this.value"> {% for frequency in product.subscription_defaults.order_interval_frequency_options %}<option value="{{ frequency }}" {% if frequency == subscription.order_interval_frequency %}selected{% endif %}>{{ frequency }} {{ subscription.order_interval_unit | capitalize + 's' }}</option> {% endfor %} </select> {% else %} {{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit }} <input type="hidden" name="charge_interval_frequency" id="charge_interval_frequency" value="{{ subscription.order_interval_frequency }}"> {% endif %} <input type="hidden" name="order_interval_unit" value="{{ subscription.order_interval_unit }}"> <input type="hidden" name="order_interval_frequency" value="{{ subscription.order_interval_frequency }}"></form></fieldset></div><div class="md:w-1/2 md:pr-4"> {% if subscription.next_charge_scheduled_at %}<fieldset><form method="post" action="{{ subscription.id | subscription_set_next_charge_date_url }}" id="ReChargeForm_date"> <label for="last_name" class="w-full my-4 capitalize font-bold">Next Order / Charge Date</label> <input type="date" name="date" id="date" class="w-full capitalize" value="{{ subscription.next_charge_scheduled_at | date('%Y-%m-%d') }}"></form></fieldset> {% else %} <span class="text-danger text-sm">Error</span> {% endif %}</div></div><div class="md:w-1/10"> {# {% if subscription.status == 'ACTIVE' %} {% if subscription.next_charge_scheduled_at %} {% if subscription.order_interval_frequency == subscription.charge_interval_frequency %} <a href="#" onclick="ReCharge.Subscription.skip({{ subscription.id }}); return false;" class="underline font-bold text-black-2 text-sm text-green-thrive">Skip</a> {% endif %} {% else %} <span class="text-danger text-sm">Charge error: Skip not available</span> {% endif %} {% endif %} #}</div></div></div><div class="subscription-delivery-payment border-creatine-grey-how-to-use border-b-1 py-12 px-4 lg:px-16 text-sm"><div class="md:flex flex-wrap items-top justify-between mb-8"><div class="md:flex flex-wrap items-top justify-between md:w-9/10"><div class="md:w-1/2 md:pr-8 font-bold"> Delivery Address<p class="mb-0 mt-2 my-4 text-warning hidden md:block">This address only affects subscription addresses</p></div><div class="md:w-1/2 md:pr-4"><p class="mb-2 md:my-0 md:hidden">{{ address.first_name }} {{ address.last_name }} / {{ address.company }} {{ address.address1 }} {{ address.address2 }} {{ address.city }}</p><p class="mb-2 md:my-0 hidden md:block"> {{ address.first_name }} {{ address.last_name }}<br /> {{ address.company }}<br />{{ address.address1 }}<br />{{ address.address2 }}<br />{{ address.city }} {{ address.zip }}</p><p class="mb-0 mt-2 my-4 text-warning text-xs md:hidden">This address only affects subscription addresses</p></div></div><div class="md:w-1/10"> <a href="{{ address.id | address_url }}" class="underline font-bold text-green-thrive">Edit</a></div></div><div class="md:flex flex-wrap items-center justify-between"><div class="md:flex flex-wrap items-top justify-between md:w-9/10"><div class="md:w-1/2 md:pr-8 font-bold mb-4 md:mb-0"> Payment Method</div> {% set payment_source = payment_sources[0] %} {% if payment_source.payment_type in ['credit', 'debit'] %}<div class="md:w-1/2 md:pr-4"> {% if payment_source.status == 'failed' %} <span class="text-danger">Card was removed or expired.</span> {% else %} {% if not payment_source.card_brand %} <span class="text-warning">Card details unavailable</span> {% else %} {{ payment_source.card_brand | capitalize }} ending in {{ payment_source.card_last4 }} - Expires {{ payment_source.card_exp_month }}/{{ payment_source.card_exp_year }} {% endif %} {% endif %}</div></div><div class="md:w-1/10"> <a href="{{ payment_source_url }}" class="underline font-bold text-green-thrive">Edit</a></div> {% elif payment_source.payment_type == 'paypal' %}<div class="md:w-1/2 md:pr-4"> Paypal account</div></div><div class="md:w-1/10"> <a href="https://www.paypal.com/signin" target="_blank" class="underline font-bold text-green-thrive">Sign In</a></div> {% elif payment_source.payment_type == 'apple_pay' %}<div class="md:w-1/2 md:pr-4"> Linked Apple Pay</div></div><div class="md:w-1/10"> <a href="https://support.apple.com/en-us/HT205583" target="_blank" class="underline font-bold text-green-thrive">Learn More</a></div> {% endif %}</div></div><div class="subscription-save py-12 px-4 lg:px-16"><div class="save-response mb-4"></div><div class="flex flex-wrap items-center justify-between"><div class="md:flex w-full md:w-1/2 md:pr-4 mb-8 md:mb-0 justify-between md:justify-start"> <a href="{{ schedule_url }}" class="btn-home secondary account mr-4 mb-4 md:mb-0 w-full md:w-auto">Back</a> <a href="#" onclick="updateProduct(); return false;" class="btn-home primary account confirm w-full md:w-auto">Save</a></div><div class="w-full md:pl-4 md:w-1/2 text-right"> {% if subscription.status == 'ACTIVE' %} <a href="{{ subscription.id | subscription_cancel_url }}" class="btn-home secondary account w-full md:w-auto">Cancel subscription</a><br> {% else %} <a href="#" onclick="ReCharge.Subscription.activate({{ subscription.id }}); return false;" class="btn-home secondary account w-full md:w-auto">Re-activate subscription</a><br> {% endif %}</div></div></div></div></div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Cancellation</h2></div>{% set product = subscription.product %}<div class="lg:pt-4 lg:px-1 pb-8"><div class="rounded lg:rounded-none shadow-lg lg:shadow-none bg-white lg:bg-transparent mx-4 mb-8 lg:m-0"><div class="subscription flex border-creatine-grey-how-to-use border-b-1 py-8 md:py-12 text-green-friday-grey text-sm items-center px-4 lg:px-0" id="view_{{ subscription.id }}"><div class="flex-1 flex flex-wrap items-center"><div class="pr-4 hidden sm:block w-25 md:w-auto"> {% if subscription.product and subscription.product.images and subscription.product.images.small %} <img class="w-25" src="{{ subscription.product.images['small'] }}"> {% else %}<div class="w-25">{% include 'item.svg' %}</div> {% endif %}</div><div class="flex-1 pr-4 pb-4 md:pb-0"><h4 class="font-bold text-black-full md:mb-2 text-sm md:text-base">{{ subscription.product_title | remove(' 12.50% Off Auto renew') }}</h4> {% if subscription.variant_title and subscription.product.shopify_details and subscription.product.shopify_details.variants | length > 1 %}<p class="capitalize my-1">{{ subscription.variant_title | remove(' (12.5% Discount)') }}</p> {% endif %}<p class="capitalize my-1 flex items-center">{% include 'renew.svg' %}<span class="text-green-thrive mr-2 font-medium">Auto Renew 12.5% off</span> {% if subscription.product.discount_amount %} {% set product_price = subscription.price %} <span class="font-medium md:hidden">Saving <span class="text-warning"> {% if subscription.product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = (product_price * (1 + subscription.product.discount_amount / 100)) - product_price %} {{ calculate_discounted | money }} {% else %} {{ product_price - subscription.product.discount_amount | money }} {% endif %} </span> </span> {% endif %}</p><p class="capitalize my-1 hidden md:block mt-4"><span class="font-extrabold">Qty:</span> <span class="qty">{{ subscription.quantity }}</span></p></div>{% set product_price = 0 %} {% set calculate_discounted = 0 %} {% set total = subscription.price %} {% if subscription.product.discount_amount %} {% set product_price = subscription.price %} {% if subscription.product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = (product_price * (1 + subscription.product.discount_amount / 100)) - product_price %} {% endif %} {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold"><span class="price"> {% if calculate_discounted > 0 %} {% set total = subscription.price - calculate_discounted %} {{ total | money }} {% elif subscription.product.discount_amount and subscription.product.discount_type != 'percentage' %} {% set total = subscription.price - subscription.product.discount_amount %} {{ total | money }} {% else %} {{ total | money }} {% endif %} </span></p></div>{% if subscription.product.discount_amount %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Savings</h4><p class="capitalize my-1 font-semibold text-warning"> {% if subscription.product.discount_type == 'percentage' %} {{ calculate_discounted | money }} {% else %} {{ product_price - subscription.product.discount_amount | money }} {% endif %}</p></div> {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold"><span class="freq">{{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit | append('s') | capitalize }}</span></p></div><div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Next Order</h4><p class="capitalize my-1 font-semibold"> {% if not subscription.next_charge_scheduled_at %} <span class="text-danger text-sm">Error</span> {% else %} <span class="date">{{ subscription.next_charge_scheduled_at | date('%B %-d') }}<span> {% endif %}</p></div><div class="md:hidden w-full flex"><div class="pr-4 sm:ml-25"><h4 class="font-bold text-black-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold">{{ total | money }}</p></div><div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold"><span class="freq">{{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit | append('s') | capitalize }}</span></p></div><div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Next Order</h4><p class="capitalize my-1 font-semibold"> {% if not subscription.next_charge_scheduled_at %} <span class="text-danger text-sm">Error</span> {% else %} <span class="date">{{ subscription.next_charge_scheduled_at | date('%B %-d') }}</span> {% endif %}</p></div></div></div><div class="hidden sm:block flex-none w-25 md:w-38 text-center"> <a href="{{ subscription.id | subscription_url }}" class="secondary btn-home account w-full my-4">Edit</a> {#<form method="post" action="{{ subscription.id | subscription_skip_url }}" id="ReChargeForm_strategy_skip" class="inline-block"> <input type="hidden" name="redirect_url" value="{{ subscription.id | subscription_url }}"> <button type="submit" class="w-full mb-4 text-green-thrive">Skip</button></form> | #} <a href="{{ subscription.id | subscription_swap_search_url }}" class="w-full mb-4 text-green-thrive">Swap</a></div></div><div class="px-4 pb-4 lg:p-0"><h4 class="font-bold my-8 text-base md:text-xl">Please select a reason for cancelling your subscription:</h4><ul class="list-none mb-8 text-sm md:text-base"> {% for strategy in retention_strategies %}<li class="my-3 hover:text-green-thrive"><a href="{{ subscription.id | retention_strategy_url(strategy) }}">{{ strategy.cancellation_reason }}</a></li> {% endfor %}</ul><a class="primary account btn-home" href="{{ subscription.id | subscription_url }}">Return to subscription</a></div></div></div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Add Product</h2></div><div class="pt-2 lg:pt-12 px-4 lg:px-1 pb-8"> {% if not product %}<div class="leading-normal text-sm md:text-base my-8"><p>Product not found.</p></div><a href="{{ product_search_url }}" class="btn-home secondary account">Back</a> {% else %} {% set shopify_details = product.shopify_details %} {% set subscription_defaults = product.subscription_defaults %}<div class="md:flex flex-row-reverse items-top"><div class="w-full md:w-1/2 md:mr-4"> {% if shopify_details.image %} <img src="{{ shopify_details.image['src'] }}" class=""> {% else %} <img src="https://rechargestatic-bootstrapheroes.netdna-ssl.com/static/images/no-image.png" class=""> {% endif %}</div><div class="w-full md:w-1/2 md:ml-4 text-sm"><div class="flex justify-between"><h3 class="font-bold text-black-full mb-2 text-base">{{ shopify_details.title }}</h3> <a href="{{ product.handle | shop_products_url }}" target="_blank" class="underline font-bold text-green-thrive">View on store</a></div><h4 class="capitalize mt-1 mb-8 font-semibold text-base" data-property="price"> {{ shopify_details.variants[0]['price'] | money }}</h4><form type="post" action="{{ subscription_list_url if subscription_defaults else onetime_list_url }}" id="ReChargeForm_subscriptionNew" class="rc_form"><fieldset><div class="rc_form__group"> <label class="my-4 font-bold">Quantity:</label> <input type="number" name="quantity" placeholder="1" min="1" value="1" class="border-b-2 border-grey capitalize mb-8 mt-4 pl-0 py-4 w-full focus:outline-none"></div><input type="hidden" name="redirect_url" value="{{ schedule_url }}">{% if subscription_defaults %}<div id="subscription_type_container" class="rc_form__group hidden mb-8" style="{{ '' if settings and settings.customer_portal.onetime.enabled else 'display: none;' }}"> {% if settings and settings.customer_portal.onetime.enabled %} {% if 'subscription_only' in subscription_defaults.storefront_purchase_options %} <label class="flex items-center cursor-pointer"> <input type="radio" name="purchase_type" checked value="subscription" onchange="optionChangeCallback()"> Subscribe {% if product.discount_amount %} {% if product.discount_type == 'percentage' %} ({{ product.discount_amount }}% off) {% else %} ({{ product.discount_amount | money }} off) {% endif %} {% endif %} </label> {% else %} <label class="flex items-center cursor-pointer block mb-3"> <input id="radio_onetime" type="radio" name="purchase_type" value="onetime" onchange="optionChangeCallback()"> One-Time </label> <label class="flex items-center cursor-pointer"> <input id="radio_subscription" type="radio" name="purchase_type" checked value="subscription" onchange="optionChangeCallback()"> Subscribe {% if product.discount_amount %} {% if product.discount_type == 'percentage' %} ({{ product.discount_amount }}% off) {% else %} ({{ product.discount_amount | money }} off) {% endif %} {% endif %} </label> {% endif %} {% else %} <label class="flex items-center cursor-pointer"> <input type="radio" name="purchase_type" checked value="subscription"> Subscribe {% if product.discount_amount %} {% if product.discount_type == 'percentage' %} ({{ product.discount_amount }}% off) {% else %} ({{ product.discount_amount | money }} off) {% endif %} {% endif %} </label> {% endif %}</div><div class="rc_form__group hidden" id="product_schedule_container"> <label class="my-4 font-bold" for="charge_interval_frequency">Frequency</label> {% if subscription_defaults.order_interval_frequency_options | length > 1 %} <select name="charge_interval_frequency" class="border-b-2 border-grey capitalize mb-8 mt-4 pl-0 py-4 w-full focus:outline-none" onchange="document.querySelector('[name=order_interval_frequency]').value=this.value"> {% for frequency in subscription_defaults.order_interval_frequency_options %}<option value="{{ frequency }}">{{ frequency }} {{ subscription_defaults.order_interval_unit }}</option> {% endfor %} </select> {% else %} <input type="hidden" name="charge_interval_frequency" value="{{ subscription_defaults.order_interval_frequency_options[0] }}"><p> {{ subscription_defaults.order_interval_frequency_options[0] }} {{ subscription_defaults.order_interval_unit }}</p> {% endif %} <input type="hidden" name="order_interval_unit" value="{{ subscription_defaults.order_interval_unit | lower | replace('s', '') }}"> <input type="hidden" name="order_interval_frequency" value="{{ subscription_defaults.order_interval_frequency_options[0] }}"></div> {% else %}<div class="rc_form__group"> <label class="flex items-center cursor-pointer"> <input type="radio" name="purchase_type" value="onetime" checked> One-Time </label></div> {% endif %}<div class="rc_form__group rc_option__wrapper"> {% for option in shopify_details.options | sort(attribute="position") %}<div class="rc_option"> <label class="my-4 font-bold" for="option_{{ option.shopify_id }}">{{ option.name }}:</label> <select id="option_{{ option.shopify_id }}" class="border-b-2 border-grey capitalize mb-8 mt-4 pl-0 py-4 w-full focus:outline-none rc_option__selector" onchange="optionChangeCallback();"> {% for value in option['values'] %}<option value="{{ value }}">{{ value }}</option> {% endfor %} </select></div> {% endfor %} <input type="hidden" id="shopify_variant_id" name="shopify_variant_id" value="{{ shopify_details.variants[0]['shopify_id'] }}"></div><div class="rc_form__group"> <label class="my-4 font-bold">Address:</label> {% if not addresses %} No address on file, please <a href="{{ address_new_url }}">add an address</a>. {% else %} <select name="address_id" id="address_id" onchange="updateNextChargeDate(this);" class="border-b-2 border-grey capitalize mb-8 mt-4 pl-0 py-4 w-full focus:outline-none"> {% for address in addresses %}<option value="{{ address.id }}"> {{ address.first_name }} {{ address.last_name }} {{ address.address1 }} {{ address.address2 }}</option> {% endfor %} </select> {% endif %}</div>{% if addresses and next_charge_date_options %} {% set first_address_charge_dates = next_charge_date_options[0][addresses[0].id | string] %}<div><div id="product_dates_container"><div class="rc_form__group"> <label class="my-4 font-bold" for="address_charge_dates">Next charge date:</label> <select id="address_charge_dates" onchange="dateChangeCallback(this);" class="hidden border-b-2 border-grey capitalize mb-8 mt-4 pl-0 py-4 w-full focus:outline-none"> {% for charge_date in first_address_charge_dates if first_address_charge_dates %} {% if charge_date == 'custom' %}<option value="custom">Custom date</option> {% else %}<option value="{{ charge_date | date('%Y-%m-%d') }}"> {{ charge_date | date('%Y-%m-%d') }}</option> {% endif %} {% endfor %} </select></div></div><div id="next_charge_date_container" {% if first_address_charge_dates %}style="display: none;"{% endif %}><input class="border-b-2 border-grey mb-8 mt-4 pl-0 py-4 w-full focus:outline-none" type="date" name="next_charge_scheduled_at" required {% if first_address_charge_dates and first_address_charge_dates[0] != 'custom' %} value="{{ first_address_charge_dates[0] | date('%Y-%m-%d') }}"{% endif %}></div></div>{% endif %}<div class="flex items-center justify-between"> <button type="submit" class="btn-home secondary account confirm">Add product</button></div></fieldset></form></div></div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Cancellation</h2></div>{% set product = subscription.product %}<div class="lg:pt-4 lg:px-1 pb-8"><div class="rounded lg:rounded-none shadow-lg lg:shadow-none bg-white lg:bg-transparent mx-4 mb-8 lg:m-0"><div class="subscription flex border-creatine-grey-how-to-use border-b-1 py-8 md:py-12 text-green-friday-grey text-sm items-center px-4 lg:px-0" id="view_{{ subscription.id }}"><div class="flex-1 flex flex-wrap items-center"><div class="pr-4 hidden sm:block w-25 md:w-auto"> {% if subscription.product and subscription.product.images and subscription.product.images.small %} <img class="w-25" src="{{ subscription.product.images['small'] }}"> {% else %}<div class="w-25">{% include 'item.svg' %}</div> {% endif %}</div><div class="flex-1 pr-4 pb-4 md:pb-0"><h4 class="font-bold text-black-full md:mb-2 text-sm md:text-base">{{ subscription.product_title | remove(' 12.50% Off Auto renew') }}</h4> {% if subscription.variant_title and subscription.product.shopify_details and subscription.product.shopify_details.variants | length > 1 %}<p class="capitalize my-1">{{ subscription.variant_title | remove(' (12.5% Discount)') }}</p> {% endif %}<p class="capitalize my-1 flex items-center">{% include 'renew.svg' %}<span class="text-green-thrive mr-2 font-medium">Auto Renew 12.5% off</span> {% if subscription.product.discount_amount %} {% set product_price = subscription.price %} <span class="font-medium md:hidden">Saving <span class="text-warning"> {% if subscription.product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = (product_price * (1 + subscription.product.discount_amount / 100)) - product_price %} {{ calculate_discounted | money }} {% else %} {{ product_price - subscription.product.discount_amount | money }} {% endif %} </span> </span> {% endif %}</p><p class="capitalize my-1 hidden md:block mt-4"><span class="font-extrabold">Qty:</span> <span class="qty">{{ subscription.quantity }}</span></p></div>{% set product_price = 0 %} {% set calculate_discounted = 0 %} {% set total = subscription.price %} {% if subscription.product.discount_amount %} {% set product_price = subscription.price %} {% if subscription.product.discount_type == 'percentage' %} {% set product_price = product_price | float %} {% set calculate_discounted = (product_price * (1 + subscription.product.discount_amount / 100)) - product_price %} {% endif %} {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold"><span class="price"> {% if calculate_discounted > 0 %} {% set total = subscription.price - calculate_discounted %} {{ total | money }} {% elif subscription.product.discount_amount and subscription.product.discount_type != 'percentage' %} {% set total = subscription.price - subscription.product.discount_amount %} {{ total | money }} {% else %} {{ total | money }} {% endif %} </span></p></div>{% if subscription.product.discount_amount %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Savings</h4><p class="capitalize my-1 font-semibold text-warning"> {% if subscription.product.discount_type == 'percentage' %} {{ calculate_discounted | money }} {% else %} {{ product_price - subscription.product.discount_amount | money }} {% endif %}</p></div> {% endif %}<div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold"><span class="freq">{{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit | append('s') | capitalize }}</span></p></div><div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Next Order</h4><p class="capitalize my-1 font-semibold"> {% if not subscription.next_charge_scheduled_at %} <span class="text-danger text-sm">Error</span> {% else %} <span class="date">{{ subscription.next_charge_scheduled_at | date('%B %-d') }}<span> {% endif %}</p></div><div class="md:hidden w-full flex"><div class="pr-4 sm:ml-25"><h4 class="font-bold text-black-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold">{{ total | money }}</p></div><div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold"><span class="freq">{{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit | append('s') | capitalize }}</span></p></div><div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Next Order</h4><p class="capitalize my-1 font-semibold"> {% if not subscription.next_charge_scheduled_at %} <span class="text-danger text-sm">Error</span> {% else %} <span class="date">{{ subscription.next_charge_scheduled_at | date('%B %-d') }}</span> {% endif %}</p></div></div></div><div class="hidden sm:block flex-none w-25 md:w-38 text-center"> <a href="{{ subscription.id | subscription_url }}" class="secondary btn-home account w-full my-4">Edit</a> {#<form method="post" action="{{ subscription.id | subscription_skip_url }}" id="ReChargeForm_strategy_skip" class="inline-block"> <input type="hidden" name="redirect_url" value="{{ subscription.id | subscription_url }}"> <button type="submit" class="w-full mb-4 text-green-thrive">Skip</button></form> | #} <a href="{{ subscription.id | subscription_swap_search_url }}" class="w-full mb-4 text-green-thrive">Swap</a></div></div><div class="px-4 pb-4 lg:p-0 text-sm md:text-base"><p class="leading-relaxed my-8"> {{ retention_strategy.prevention_text }}</p>{% if retention_strategy.incentive_type == 'discount' %}<form method="post" action="{{ subscription.address_id | discount_apply_url }}" id="ReChargeForm_strategy"> <input type="hidden" name="redirect_url" value="{{ schedule_url }}"> <input type="hidden" value="{{ retention_strategy.discount_code }}" name="discount_code"><p> <button type="submit" class="primary account btn-home">Apply discount "{{ retention_strategy.discount_code }}"</button></p></form> {% elif retention_strategy.incentive_type == 'skip_charge' %}<form method="post" action="{{ subscription.id | subscription_skip_url }}" id="ReChargeForm_strategy"> <input type="hidden" name="redirect_url" value="{{ subscription.id | subscription_url }}"><p> <button type="submit" class="primary account btn-home">Skip next order</button></p></form> {% elif retention_strategy.incentive_type == 'delay_subscription' %} <script>function set_delay_date(delay){var date=new Date('{{ subscription.next_charge_scheduled_at }}');date.setDate(date.getDate()+parseInt(delay));document.querySelector('[name="date"]').value=[date.getFullYear(),('0'+(date.getMonth()+1)).slice(-2),('0'+date.getDate()).slice(-2)].join('-')}</script> <form method="post" action="{{ subscription.id | subscription_set_next_charge_date_url }}" id="ReChargeForm_strategy"> <input type="hidden" name="redirect_url" value="{{ schedule_url }}"> <input type="hidden" name="date" id="date" value="{{ subscription.next_charge_scheduled_at | date('%Y-%m-%d') }}"><p><label for="delay_days_15"> <input type="radio" value="15" id="delay_days_15" name="delay" onclick="set_delay_date(this.value);"> 15 Days </label> <label for="delay_days_30"> <input type="radio" value="30" id="delay_days_30" name="delay" onclick="set_delay_date(this.value);"> 30 Days </label> <label for="delay_days_45"> <input type="radio" value="45" id="delay_days_45" name="delay" onclick="set_delay_date(this.value);"> 45 Days </label></p><p> <button type="submit" class="primary account btn-home">Delay order</button></p></form> {% elif retention_strategy.incentive_type == 'swap_product' and subscription.is_swappable %}<p id="ReChargeForm_strategy"> <a href="{{ subscription.id | subscription_swap_search_url }}" class="primary account btn-home">Swap product with something else</a></p> {% endif %}{% if retention_strategy.incentive_type %} <br><p> <a class="primary account btn-home" href="#" onclick="ReCharge.Helpers.toggle('ReChargeForm_cancel'); return false;" class="btn btn--secondary">No thanks</a></p> {% endif %}<form method="post" action="{{ subscription.id | subscription_cancel_url }}" id="ReChargeForm_cancel" {% if retention_strategy.incentive_type %}style="display: none;"{% endif %}> <input type="hidden" name="redirect_url" value="{{ schedule_url }}"> <input type="hidden" name="cancellation_reason" value="{{ retention_strategy.cancellation_reason }}"> <label for="cancellation_reason_comments">Comments:</label><textarea id="cancellation_reason_comments" class="bg-grey-lighter block min-h-30 my-4 p-4 w-full" name="cancellation_reason_comments" placeholder="Type here..."></textarea><button type="submit" class="account block btn-home my-4 secondary">Cancel subscription</button></form><a class="primary account btn-home" href="{{ subscription.id | subscription_url }}">Return to subscription</a></div></div></div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">My Subscriptions / Swap Product</h2></div><div class="pt-2 lg:pt-12 px-4 lg:px-1 pb-8"> {% if not product %}<div class="leading-normal text-sm md:text-base my-8"><p>Product not found.</p></div><a href="{{ subscription.id | subscription_swap_search_url }}" class="btn-home secondary account">Back</a> {% else %} {% set subscription_shopify_details = subscription.product.shopify_details %}<div class="flex text-sm mb-8 items-center"><div class="w-30"> {% if subscription_shopify_details.image %} <img class="w-25" src="{{ subscription_shopify_details.image['src'] }}" class="grid-view-item__image"> {% else %}<div class="w-25">{% include 'item.svg' %}</div> {% endif %}</div><div class="flex-1"><h5 class="font-bold text-black-full mb-2 text-sm">{{ subscription_shopify_details.title }}</h5><p class="capitalize my-1"><span class="font-extrabold">Qty:</span> {{ subscription.quantity }} <span class="font-extrabold ml-2">Every:</span> {{ subscription.order_interval_frequency }} {% if subscription.order_interval_frequency > 1 %} {{ subscription.order_interval_unit | title + 's' }} {% else %} {{ subscription.order_interval_unit | title }} {% endif %}</p><p class="capitalize my-1 font-semibold mt-4">{{ subscription.price | money }}</p></div></div><hr><h4 class="my-8">To swap with:</h4><div class="flex items-top"><div class="md:w-1/2 md:mr-4"> {% if product.shopify_details.image %} <img src="{{ product.shopify_details.image['src'] }}" class="grid-view-item__image"> {% else %} <img src="https://rechargestatic-bootstrapheroes.netdna-ssl.com/static/images/no-image.png" class="grid-view-item__image"> {% endif %}</div><div class="md:w-1/2 md:ml-4 text-sm"><div class="flex justify-between"><h2 class="font-bold text-black-full mb-2 text-sm">{{ product.title }}</h2> <a href="{{ product.handle | shop_products_url }}" target="_blank" class="flex-1 pl-8 underline font-bold text-green-thrive">View on store</a></div><h4 class="capitalize my-1 font-semibold text-sm" data-property="price"> {{ product.shopify_details.variants[0].price | money }}</h4><form action="{{ subscription.id | subscription_swap_url }}" id="ReChargeForm_subscriptionNew" method="post"> <input type="hidden" name="redirect_url" value="{{ schedule_url }}"><fieldset> <select name="shopify_variant_id" id="shopify_variant_id" class="border-b-2 border-grey capitalize mb-8 mt-4 pl-0 py-4 w-full focus:outline-none" style="display: none;"> {% for variant in product.shopify_details.variants %}<option value="{{ variant.shopify_id }}"{{ ' selected' if loop.first else '' }}> {{ variant.title }} - {{ variant.price }}</option> {% endfor %} </select><div id="product_options_container"></div><label for="quantity">Quantity</label> <input type="number" name="quantity" placeholder="1" min="1" value="{{ subscription.quantity }}" id="quantity" class="border-b-2 border-grey capitalize mb-8 mt-4 pl-0 py-4 w-full focus:outline-none"><div id="product_schedule_container"> <label>Delivery schedule</label> {% if product.subscription_defaults %} <select name="charge_interval_frequency" id="charge_interval_frequency" class="border-b-2 border-grey capitalize mb-8 mt-4 pl-0 py-4 w-full focus:outline-none" onchange="document.querySelector('[name=order_interval_frequency]').value=this.value"> {% for frequency in product.subscription_defaults.order_interval_frequency_options %}<option value="{{ frequency }}" {% if frequency == product.subscription_defaults.order_interval_frequency %}selected{% endif %}>{{ frequency }} {{ product.subscription_defaults.order_interval_unit | capitalize }}</option> {% endfor %} </select> <input type="hidden" name="order_interval_unit" value="{{ product.subscription_defaults.order_interval_unit }}"> <input type="hidden" name="order_interval_frequency" value="{{ product.subscription_defaults.order_interval_frequency }}"> {% else %} {{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit }} <input type="hidden" name="charge_interval_frequency" id="charge_interval_frequency" value="{{ subscription.order_interval_frequency }}"> <input type="hidden" name="order_interval_unit" value="{{ subscription.order_interval_unit }}"> <input type="hidden" name="order_interval_frequency" value="{{ subscription.order_interval_frequency }}"> {% endif %}</div></fieldset><div class="flex items-center justify-between"> <button type="submit" class="btn-home secondary account confirm">Swap product</button></div></form></div></div> <script>var product={{product.shopify_details|json}},changeEvent=document.createEvent('HTMLEvents');changeEvent.initEvent('change',true,false);function buildOptionGroups(){return product.options.map(function(option){return['<div class="rc_form__group form__control input-row form-group input-wrapper">','<label for="'+option.id+'" class="rc_form__label form__label">'+option.name+'</label>','<select id="'+option.id+'" class="rc_option_selectors rc_form__input form__input form-control input-field input-full" onchange="optionChangeCallback(this);">',option.values.map(function(value){return'<option value="'+value+'">'+value+'</option>';}),'</select>','</div>'].join('')}).join('');} function updateProduct(variant){document.querySelector('[name="shopify_variant_id"]').value=variant.shopify_id;document.querySelectorAll('[data-property="price"]').forEach(function(elem){elem.innerHTML=variant.price;});} function optionChangeCallback(evt){var joinedVariantTitle=Array.prototype.map.call(document.querySelectorAll('.rc_option_selectors'),function(select){return select.value;}).join(' / ');var newVariant=Array.prototype.filter.call(product.variants,function(variant){return variant.title===joinedVariantTitle;})[0];updateProduct(newVariant);} document.querySelector('#product_options_container').innerHTML=buildOptionGroups();</script> {% endif %}</div><div class="header flex items-center justify-between px-4 lg:pl-10 lg:pr-8 lg:py-8 lg:bg-green-thrive lg:rounded-lg lg:shadow-lg"><h2 class="hidden lg:block text-3xl font-bold text-black-full lg:text-white">Inactive Subscriptions</h2></div><div class="lg:pt-12 px-4 lg:px-1 pb-8"> {% set cancelled_subscriptions = [] %}{% for address in addresses | sort(attribute="id") %} {% if address.subscriptions | list | length %} {% if address.subscriptions | selectattr("status", "equalto", "CANCELLED") | list | length %} {% if cancelled_subscriptions.append(address) %}{% endif %} {% endif %} {% endif %} {% endfor %}{% if cancelled_subscriptions %} {% for address in cancelled_subscriptions | sort(attribute="id") %} {% if address.subscriptions | selectattr("status", "equalto", "CANCELLED") | list | length %} {% for subscription in address.subscriptions | selectattr("status", "equalto", "CANCELLED") %}<div class="flex px-4 bg-off-white-2 lg:bg-grey-lightest text-sm md:text-base rounded-lg lg:rounded-none"><p> <span class="text-black-2 font-semibold">Cancelled {{ subscription.cancelled_at | date("%B %d, %Y") }}</span></p></div><div class="cancelled flex my-4 lg:my-0 py-4 lg:py-8 md:py-12 text-green-friday-grey text-sm items-center px-4 lg:px-0 bg-white rounded-lg lg:rounded-none shadow-lg lg:shadow-none" id="view_address_{{ address.id }}"><div class="flex-1 flex flex-wrap items-center"><div class="pr-4 hidden sm:block w-25 md:w-auto"> {% if subscription.product and subscription.product.images and subscription.product.images.small %} <img class="w-25" src="{{ subscription.product.images['small'] }}"> {% else %}<div class="w-25">{% include 'item.svg' %}</div> {% endif %}</div><div class="flex-1 pr-4 pb-4 md:pb-0"><h4 class="font-bold text-black-full md:mb-2 text-sm md:text-base">{{ subscription.product_title | remove(' 12.50% Off Auto renew') }}</h4> {% if subscription.variant_title and subscription.product.shopify_details and subscription.product.shopify_details.variants | length > 1 %}<p class="capitalize my-1">{{ subscription.variant_title | remove(' (12.5% Discount)') }}</p> {% endif %}<p class="capitalize my-1"><span class="font-bold">Qty:</span> {{ subscription.quantity }}</p></div><div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold">{{ subscription.price | money }}</p></div><div class="pr-4 hidden md:block"><h4 class="font-bold text-black-2 mb-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold">{{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit | append('s') | capitalize }}</p></div><div class="md:hidden w-full flex"><div class="pr-4 sm:ml-25"><h4 class="font-bold text-black-2 text-sm md:text-base">Total</h4><p class="capitalize my-1 font-semibold">{{ subscription.price | money }}</p></div><div class="pr-4"><h4 class="font-bold text-black-2 text-sm md:text-base">Frequency</h4><p class="capitalize my-1 font-semibold">{{ subscription.order_interval_frequency }} {{ subscription.order_interval_unit }}{% if subscription.order_interval_frequency > 1 %}s{% endif %}</p></div></div></div><div class="flex-none md:w-38 lg:w-32 xl:w-38"> <a href="#" onclick="ReCharge.Subscription.activate({{ subscription.id }}); return false;" class="primary btn-home account w-full">Re-activate</a></div></div> {% endfor %} {% endif %} {% endfor %} {% else %}<div class="no-inactive-orders leading-normal mt-8 lg:mt-0"><p>You have no in-active orders. Fancy starting a new subscription? Simply <a href="{{ product_search_url }}" class="text-green-thrive">click here</a>.</p></div> {% endif %} <script>window.addresses={{addresses|json}};</script> </div><div class="recharge"><div id="customer-card-form"></div></div>
